if(dwr==null){var dwr={}}if(dwr.engine==null){dwr.engine={}}if(DWREngine==null){var DWREngine=dwr.engine}dwr.engine.setErrorHandler=function(a){dwr.engine._errorHandler=a};dwr.engine.setWarningHandler=function(a){dwr.engine._warningHandler=a};dwr.engine.setTextHtmlHandler=function(a){dwr.engine._textHtmlHandler=a};dwr.engine.setTimeout=function(a){dwr.engine._timeout=a};dwr.engine.setPreHook=function(a){dwr.engine._preHook=a};dwr.engine.setPostHook=function(a){dwr.engine._postHook=a};dwr.engine.setHeaders=function(a){dwr.engine._headers=a};dwr.engine.setParameters=function(a){dwr.engine._parameters=a};dwr.engine.XMLHttpRequest=1;dwr.engine.IFrame=2;dwr.engine.ScriptTag=3;dwr.engine.setRpcType=function(a){if(a!=dwr.engine.XMLHttpRequest&&a!=dwr.engine.IFrame&&a!=dwr.engine.ScriptTag){dwr.engine._handleError(null,{name:"dwr.engine.invalidRpcType",message:"RpcType must be one of dwr.engine.XMLHttpRequest or dwr.engine.IFrame or dwr.engine.ScriptTag"});return}dwr.engine._rpcType=a};dwr.engine.setHttpMethod=function(a){if(a!="GET"&&a!="POST"){dwr.engine._handleError(null,{name:"dwr.engine.invalidHttpMethod",message:"Remoting method must be one of GET or POST"});return}dwr.engine._httpMethod=a};dwr.engine.setOrdered=function(a){dwr.engine._ordered=a};dwr.engine.setAsync=function(a){dwr.engine._async=a};dwr.engine.setActiveReverseAjax=function(a){if(a){if(dwr.engine._activeReverseAjax){return}dwr.engine._activeReverseAjax=true;dwr.engine._poll()}else{if(dwr.engine._activeReverseAjax&&dwr.engine._pollReq){dwr.engine._pollReq.abort()}dwr.engine._activeReverseAjax=false}};dwr.engine.defaultErrorHandler=function(b,a){dwr.engine._debug("Error: "+a.name+", "+a.message,true);if(b==null||b==""){alert("A server error has occurred.")}else{if(b.indexOf("0x80040111")!=-1){dwr.engine._debug(b)}else{alert(b)}}};dwr.engine.defaultWarningHandler=function(b,a){dwr.engine._debug(b)};dwr.engine.beginBatch=function(){if(dwr.engine._batch){dwr.engine._handleError(null,{name:"dwr.engine.batchBegun",message:"Batch already begun"});return}dwr.engine._batch=dwr.engine._createBatch()};dwr.engine.endBatch=function(b){var a=dwr.engine._batch;if(a==null){dwr.engine._handleError(null,{name:"dwr.engine.batchNotBegun",message:"No batch in progress"});return}dwr.engine._batch=null;if(a.map.callCount==0){return}if(b){dwr.engine._mergeBatch(a,b)}if(dwr.engine._ordered&&dwr.engine._batchesLength!=0){dwr.engine._batchQueue[dwr.engine._batchQueue.length]=a}else{dwr.engine._sendData(a)}};dwr.engine.setPollMethod=function(a){dwr.engine.setPollType(a)};dwr.engine.setMethod=function(a){dwr.engine.setRpcType(a)};dwr.engine.setVerb=function(a){dwr.engine.setHttpMethod(a)};dwr.engine.setPollType=function(){dwr.engine._debug("Manually setting the Poll Type is not supported")};dwr.engine._scriptSessionId=null;dwr.engine._getScriptSessionId=function(){if(dwr.engine._scriptSessionId==null){dwr.engine._scriptSessionId=dwr.engine._origScriptSessionId+Math.floor(Math.random()*1000)}return dwr.engine._scriptSessionId};dwr.engine._errorHandler=dwr.engine.defaultErrorHandler;dwr.engine._warningHandler=dwr.engine.defaultWarningHandler;dwr.engine._preHook=null;dwr.engine._postHook=null;dwr.engine._batches={};dwr.engine._batchesLength=0;dwr.engine._batchQueue=[];dwr.engine._rpcType=dwr.engine.XMLHttpRequest;dwr.engine._httpMethod="POST";dwr.engine._ordered=false;dwr.engine._async=true;dwr.engine._batch=null;dwr.engine._timeout=0;dwr.engine._DOMDocument=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.5.0","Msxml2.DOMDocument.4.0","Msxml2.DOMDocument.3.0","MSXML2.DOMDocument","MSXML.DOMDocument","Microsoft.XMLDOM"];dwr.engine._XMLHTTP=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.5.0","Msxml2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"];dwr.engine._activeReverseAjax=false;dwr.engine._outstandingIFrames=[];dwr.engine._pollReq=null;dwr.engine._pollCometInterval=200;dwr.engine._pollRetries=0;dwr.engine._maxPollRetries=0;dwr.engine._textHtmlHandler=null;dwr.engine._headers={"X-J-Token":_jive_auth_token};dwr.engine._parameters=null;dwr.engine._postSeperator="\n";dwr.engine._defaultInterceptor=function(a){return a};dwr.engine._urlRewriteHandler=dwr.engine._defaultInterceptor;dwr.engine._contentRewriteHandler=dwr.engine._defaultInterceptor;dwr.engine._replyRewriteHandler=dwr.engine._defaultInterceptor;dwr.engine._nextBatchId=0;dwr.engine._propnames=["rpcType","httpMethod","async","timeout","errorHandler","warningHandler","textHtmlHandler"];dwr.engine._partialResponseNo=0;dwr.engine._partialResponseYes=1;dwr.engine._partialResponseFlush=2;dwr.engine._unloading=false;dwr.engine._execute=function(l,b,j,h){var e=false;if(dwr.engine._batch==null){dwr.engine.beginBatch();e=true}var d=dwr.engine._batch;var g=[];for(var c=0;c<arguments.length-3;c++){g[c]=arguments[c+3]}if(d.path==null){d.path=l}else{if(d.path!=l){dwr.engine._handleError(d,{name:"dwr.engine.multipleServlets",message:"Can't batch requests to multiple DWR Servlets."});return}}var a;var k=g[g.length-1];if(typeof k=="function"||k==null){a={callback:g.pop()}}else{a=g.pop()}dwr.engine._mergeBatch(d,a);d.handlers[d.map.callCount]={exceptionHandler:a.exceptionHandler,callback:a.callback};var f="c"+d.map.callCount+"-";d.map[f+"scriptName"]=b;d.map[f+"methodName"]=j;d.map[f+"id"]=d.map.callCount;for(c=0;c<g.length;c++){dwr.engine._serializeAll(d,[],g[c],f+"param"+c)}d.map.callCount++;if(e){dwr.engine.endBatch()}};dwr.engine._poll=function(){if(!dwr.engine._activeReverseAjax){return}var a=dwr.engine._createBatch();a.map.id=0;a.map.callCount=1;a.isPoll=true;if(dwr.engine._pollWithXhr=="true"){a.rpcType=dwr.engine.XMLHttpRequest;a.map.partialResponse=dwr.engine._partialResponseNo}else{if(navigator.userAgent.indexOf("Gecko/")!=-1){a.rpcType=dwr.engine.XMLHttpRequest;a.map.partialResponse=dwr.engine._partialResponseYes}else{a.rpcType=dwr.engine.XMLHttpRequest;a.map.partialResponse=dwr.engine._partialResponseNo}}a.httpMethod="POST";a.async=true;a.timeout=0;a.path=dwr.engine._defaultPath;a.preHooks=[];a.postHooks=[];a.errorHandler=dwr.engine._pollErrorHandler;a.warningHandler=dwr.engine._pollErrorHandler;a.handlers[0]={callback:function(b){dwr.engine._pollRetries=0;setTimeout(dwr.engine._poll,b)}};dwr.engine._sendData(a);if(a.rpcType==dwr.engine.XMLHttpRequest&&a.map.partialResponse==dwr.engine._partialResponseYes){dwr.engine._checkCometPoll()}};dwr.engine._pollErrorHandler=function(b,a){dwr.engine._pollRetries++;dwr.engine._debug("Reverse Ajax poll failed (pollRetries="+dwr.engine._pollRetries+"): "+a.name+" : "+a.message);if(dwr.engine._pollRetries<dwr.engine._maxPollRetries){setTimeout(dwr.engine._poll,10000)}else{dwr.engine._activeReverseAjax=false;dwr.engine._debug("Giving up.")}};dwr.engine._createBatch=function(){var a={map:{callCount:0,page:window.location.pathname+window.location.search,httpSessionId:dwr.engine._getJSessionId(),scriptSessionId:dwr.engine._getScriptSessionId()},charsProcessed:0,paramCount:0,parameters:{},headers:{},isPoll:false,handlers:{},preHooks:[],postHooks:[],rpcType:dwr.engine._rpcType,httpMethod:dwr.engine._httpMethod,async:dwr.engine._async,timeout:dwr.engine._timeout,errorHandler:dwr.engine._errorHandler,warningHandler:dwr.engine._warningHandler,textHtmlHandler:dwr.engine._textHtmlHandler};if(dwr.engine._preHook){a.preHooks.push(dwr.engine._preHook)}if(dwr.engine._postHook){a.postHooks.push(dwr.engine._postHook)}var c,b;if(dwr.engine._headers){for(c in dwr.engine._headers){b=dwr.engine._headers[c];if(typeof b!="function"){a.headers[c]=b}}}if(dwr.engine._parameters){for(c in dwr.engine._parameters){b=dwr.engine._parameters[c];if(typeof b!="function"){a.parameters[c]=b}}}return a};dwr.engine._mergeBatch=function(a,d){var e,c;for(var b=0;b<dwr.engine._propnames.length;b++){e=dwr.engine._propnames[b];if(d[e]!=null){a[e]=d[e]}}if(d.preHook!=null){a.preHooks.unshift(d.preHook)}if(d.postHook!=null){a.postHooks.push(d.postHook)}if(d.headers){for(e in d.headers){c=d.headers[e];if(typeof c!="function"){a.headers[e]=c}}}if(d.parameters){for(e in d.parameters){c=d.parameters[e];if(typeof c!="function"){a.map["p-"+e]=""+c}}}};dwr.engine._getJSessionId=function(){var c=document.cookie.split(";");for(var b=0;b<c.length;b++){var a=c[b];while(a.charAt(0)==" "){a=a.substring(1,a.length)}if(a.indexOf(dwr.engine._sessionCookieName+"=")==0){return a.substring(dwr.engine._sessionCookieName.length+1,a.length)}}return""};dwr.engine._checkCometPoll=function(){for(var b=0;b<dwr.engine._outstandingIFrames.length;b++){var e="";var c=dwr.engine._outstandingIFrames[b];try{e=dwr.engine._getTextFromCometIFrame(c)}catch(a){dwr.engine._handleWarning(c.batch,a)}if(e!=""){dwr.engine._processCometResponse(e,c.batch)}}if(dwr.engine._pollReq){var d=dwr.engine._pollReq;var e=d.responseText;if(e!=null){dwr.engine._processCometResponse(e,d.batch)}}if(dwr.engine._outstandingIFrames.length>0||dwr.engine._pollReq){setTimeout(dwr.engine._checkCometPoll,dwr.engine._pollCometInterval)}};dwr.engine._getTextFromCometIFrame=function(b){var a=b.contentWindow.document.body;if(a==null){return""}var c=a.innerHTML;if(c.indexOf("<PRE>")==0||c.indexOf("<pre>")==0){c=c.substring(5,c.length-7)}return c};dwr.engine._processCometResponse=function(d,e){if(e.charsProcessed==d.length){return}if(d.length==0){e.charsProcessed=0;return}var b=d.indexOf("//#DWR-START#",e.charsProcessed);if(b==-1){e.charsProcessed=d.length;return}var a=d.lastIndexOf("//#DWR-END#");if(a==-1){return}if(d.charCodeAt(a+11)==13&&d.charCodeAt(a+12)==10){e.charsProcessed=a+13}else{e.charsProcessed=a+11}var c=d.substring(b+13,a);dwr.engine._receivedBatch=e;dwr.engine._eval(c);dwr.engine._receivedBatch=null};dwr.engine._sendData=function(e){e.map.batchId=dwr.engine._nextBatchId;dwr.engine._nextBatchId++;dwr.engine._batches[e.map.batchId]=e;dwr.engine._batchesLength++;e.completed=false;for(var d=0;d<e.preHooks.length;d++){e.preHooks[d]()}e.preHooks=null;if(e.timeout&&e.timeout!=0){e.timeoutId=setTimeout(function(){dwr.engine._abortRequest(e)},e.timeout)}if(e.rpcType==dwr.engine.XMLHttpRequest){if(window.XMLHttpRequest){e.req=new XMLHttpRequest()}else{if(window.ActiveXObject&&!(navigator.userAgent.indexOf("Mac")>=0&&navigator.userAgent.indexOf("MSIE")>=0)){e.req=dwr.engine._newActiveXObject(dwr.engine._XMLHTTP)}}}var a,c;if(e.req){if(e.async){e.req.onreadystatechange=function(){if(typeof dwr!="undefined"){dwr.engine._stateChange(e)}}}if(e.isPoll){dwr.engine._pollReq=e.req;if(!(document.all&&!window.opera)){e.req.batch=e}}var b=navigator.userAgent.indexOf("Safari/");if(b>=0){var g=navigator.userAgent.substring(b+7);if(parseInt(g,10)<400){if(dwr.engine._allowGetForSafariButMakeForgeryEasier=="true"){e.httpMethod="GET"}else{dwr.engine._handleWarning(e,{name:"dwr.engine.oldSafari",message:"Safari GET support disabled. See getahead.org/dwr/server/servlet and allowGetForSafariButMakeForgeryEasier."})}}}e.mode=e.isPoll?dwr.engine._ModePlainPoll:dwr.engine._ModePlainCall;c=dwr.engine._constructRequest(e);try{e.req.open(e.httpMethod,c.url,e.async);try{for(a in e.headers){var j=e.headers[a];if(typeof j=="string"){e.req.setRequestHeader(a,j)}}if(!e.headers["Content-Type"]){e.req.setRequestHeader("Content-Type","text/plain")}}catch(h){dwr.engine._handleWarning(e,h)}e.req.send(c.body);if(!e.async){dwr.engine._stateChange(e)}}catch(h){dwr.engine._handleError(e,h)}}else{if(e.rpcType!=dwr.engine.ScriptTag){var f=e.isPoll?"dwr-if-poll-"+e.map.batchId:"dwr-if-"+e.map.batchId;e.div=document.createElement("div");document.body.appendChild(e.div);e.div.innerHTML="<iframe src='javascript:void(0)' frameborder='0' style='width:0px;height:0px;border:0;' id='"+f+"' name='"+f+"' onload='dwr.engine._iframeLoadingComplete ("+e.map.batchId+");'></iframe>";e.document=document;e.iframe=e.document.getElementById(f);e.iframe.batch=e;e.mode=e.isPoll?dwr.engine._ModeHtmlPoll:dwr.engine._ModeHtmlCall;if(e.isPoll){dwr.engine._outstandingIFrames.push(e.iframe)}c=dwr.engine._constructRequest(e);if(e.httpMethod=="GET"){e.iframe.setAttribute("src",c.url)}else{e.form=e.document.createElement("form");e.form.setAttribute("id","dwr-form");e.form.setAttribute("action",c.url);e.form.setAttribute("style","display:none;");e.form.setAttribute("target",f);e.form.target=f;e.form.setAttribute("method",e.httpMethod);for(a in e.map){var j=e.map[a];if(typeof j!="function"){var k=e.document.createElement("input");k.setAttribute("type","hidden");k.setAttribute("name",a);k.setAttribute("value",j);e.form.appendChild(k)}}e.document.body.appendChild(e.form);e.form.submit()}}else{e.httpMethod="GET";e.mode=e.isPoll?dwr.engine._ModePlainPoll:dwr.engine._ModePlainCall;c=dwr.engine._constructRequest(e);e.script=document.createElement("script");e.script.id="dwr-st-"+e.map["c0-id"];e.script.src=c.url;document.body.appendChild(e.script)}}};dwr.engine._ModePlainCall="/call/plaincall/";dwr.engine._ModeHtmlCall="/call/htmlcall/";dwr.engine._ModePlainPoll="/call/plainpoll/";dwr.engine._ModeHtmlPoll="/call/htmlpoll/";dwr.engine._constructRequest=function(b){var c={url:b.path+b.mode,body:null};if(b.isPoll==true){c.url+="ReverseAjax.dwr"}else{if(b.map.callCount==1){c.url+=b.map["c0-scriptName"]+"."+b.map["c0-methodName"]+".dwr"}else{c.url+="Multiple."+b.map.callCount+".dwr"}}var e=location.href.match(/jsessionid=([^?]+)/);if(e!=null){c.url+=";jsessionid="+e[1]}var d;if(b.httpMethod=="GET"){b.map.callCount=""+b.map.callCount;c.url+="?";for(d in b.map){if(typeof b.map[d]!="function"){c.url+=encodeURIComponent(d)+"="+encodeURIComponent(b.map[d])+"&"}}c.url=c.url.substring(0,c.url.length-1)}else{c.body="";if(document.all&&!window.opera){var a=[];for(d in b.map){if(typeof b.map[d]!="function"){a.push(d+"="+b.map[d]+dwr.engine._postSeperator)}}c.body=a.join("")}else{for(d in b.map){if(typeof b.map[d]!="function"){c.body+=d+"="+b.map[d]+dwr.engine._postSeperator}}}c.body=dwr.engine._contentRewriteHandler(c.body)}c.url=dwr.engine._urlRewriteHandler(c.url);return c};dwr.engine._stateChange=function(c){var b;if(c.completed){dwr.engine._debug("Error: _stateChange() with batch.completed");return}var f=c.req;try{if(f.readyState!=4){return}}catch(d){dwr.engine._handleWarning(c,d);dwr.engine._clearUp(c);return}if(dwr.engine._unloading){dwr.engine._debug("Ignoring reply from server as page is unloading.");return}try{var e=f.responseText;e=dwr.engine._replyRewriteHandler(e);var a=f.status;if(e==null||e==""){dwr.engine._handleWarning(c,{name:"dwr.engine.missingData",message:"No data received from server"})}else{if(a!=200){dwr.engine._handleError(c,{name:"dwr.engine.http."+a,message:f.statusText})}else{var g=f.getResponseHeader("Content-Type");if(!g.match(/^text\/plain/)&&!g.match(/^text\/javascript/)){if(g.match(/^text\/html/)&&typeof c.textHtmlHandler=="function"){c.textHtmlHandler({status:a,responseText:e,contentType:g})}else{dwr.engine._handleWarning(c,{name:"dwr.engine.invalidMimeType",message:"Invalid content type: '"+g+"'"})}}else{if(c.isPoll&&c.map.partialResponse==dwr.engine._partialResponseYes){dwr.engine._processCometResponse(e,c)}else{if(e.search("//#DWR")==-1){dwr.engine._handleWarning(c,{name:"dwr.engine.invalidReply",message:"Invalid reply from server"})}else{b=e}}}}}}catch(d){dwr.engine._handleWarning(c,d)}dwr.engine._callPostHooks(c);dwr.engine._receivedBatch=c;if(b!=null){b=b.replace(dwr.engine._scriptTagProtection,"")}dwr.engine._eval(b);dwr.engine._receivedBatch=null;dwr.engine._validateBatch(c);if(!c.completed){dwr.engine._clearUp(c)}};dwr.engine._validateBatch=function(a){if(!a.completed){for(var b=0;b<a.map.callCount;b++){if(a.handlers[b]!=null){dwr.engine._handleWarning(a,{name:"dwr.engine.incompleteReply",message:"Incomplete reply from server"});break}}}};dwr.engine._iframeLoadingComplete=function(a){var b=dwr.engine._batches[a];if(b){dwr.engine._validateBatch(b)}};dwr.engine._remoteHandleCallback=function(a,f,e){var c=dwr.engine._batches[a];if(c==null){dwr.engine._debug("Warning: batch == null in remoteHandleCallback for batchId="+a,true);return}try{var b=c.handlers[f];c.handlers[f]=null;if(!b){dwr.engine._debug("Warning: Missing handlers. callId="+f,true)}else{if(typeof b.callback=="function"){b.callback(e)}}}catch(d){dwr.engine._handleError(c,d)}};dwr.engine._remoteHandleException=function(a,e,d){var c=dwr.engine._batches[a];if(c==null){dwr.engine._debug("Warning: null batch in remoteHandleException",true);return}var b=c.handlers[e];c.handlers[e]=null;if(b==null){dwr.engine._debug("Warning: null handlers in remoteHandleException",true);return}if(d.message==undefined){d.message=""}if(typeof b.exceptionHandler=="function"){b.exceptionHandler(d.message,d)}else{if(typeof c.errorHandler=="function"){c.errorHandler(d.message,d)}}};dwr.engine._remoteHandleBatchException=function(c,a){var b=(dwr.engine._receivedBatch==null&&a!=null);if(b){dwr.engine._receivedBatch=dwr.engine._batches[a]}if(c.message==undefined){c.message=""}dwr.engine._handleError(dwr.engine._receivedBatch,c);if(b){dwr.engine._receivedBatch=null;dwr.engine._clearUp(dwr.engine._batches[a])}};dwr.engine._remotePollCometDisabled=function(c,a){dwr.engine.setActiveReverseAjax(false);var b=(dwr.engine._receivedBatch==null&&a!=null);if(b){dwr.engine._receivedBatch=dwr.engine._batches[a]}if(c.message==undefined){c.message=""}dwr.engine._handleError(dwr.engine._receivedBatch,c);if(b){dwr.engine._receivedBatch=null;dwr.engine._clearUp(dwr.engine._batches[a])}};dwr.engine._remoteBeginIFrameResponse=function(b,a){if(b!=null){dwr.engine._receivedBatch=b.batch}dwr.engine._callPostHooks(dwr.engine._receivedBatch)};dwr.engine._remoteEndIFrameResponse=function(a){dwr.engine._clearUp(dwr.engine._receivedBatch);dwr.engine._receivedBatch=null};dwr.engine._eval=function(script){if(script==null){return null}if(script==""){dwr.engine._debug("Warning: blank script",true);return null}return eval(script)};dwr.engine._abortRequest=function(a){if(a&&!a.completed){dwr.engine._clearUp(a);if(a.req){a.req.abort()}dwr.engine._handleError(a,{name:"dwr.engine.timeout",message:"Timeout"})}};dwr.engine._callPostHooks=function(a){if(a.postHooks){for(var b=0;b<a.postHooks.length;b++){a.postHooks[b]()}a.postHooks=null}};dwr.engine._clearUp=function(b){if(!b){dwr.engine._debug("Warning: null batch in dwr.engine._clearUp()",true);return}if(b.completed){dwr.engine._debug("Warning: Double complete",true);return}if(b.div){b.div.parentNode.removeChild(b.div)}if(b.iframe){for(var c=0;c<dwr.engine._outstandingIFrames.length;c++){if(dwr.engine._outstandingIFrames[c]==b.iframe){dwr.engine._outstandingIFrames.splice(c,1)}}b.iframe.parentNode.removeChild(b.iframe)}if(b.form){b.form.parentNode.removeChild(b.form)}if(b.req){if(b.req==dwr.engine._pollReq){dwr.engine._pollReq=null}delete b.req}if(b.timeoutId){clearTimeout(b.timeoutId);delete b.timeoutId}if(b.map&&(b.map.batchId||b.map.batchId==0)){delete dwr.engine._batches[b.map.batchId];dwr.engine._batchesLength--}b.completed=true;if(dwr.engine._batchQueue.length!=0){var a=dwr.engine._batchQueue.shift();dwr.engine._sendData(a)}};dwr.engine._unloader=function(){dwr.engine._unloading=true;dwr.engine._batchQueue.length=0;for(var a in dwr.engine._batches){var b=dwr.engine._batches[a];if(b&&b.map){if(b.req){b.req.abort()}dwr.engine._clearUp(b)}}};if(window.addEventListener){window.addEventListener("unload",dwr.engine._unloader,false)}else{if(window.attachEvent){window.attachEvent("onunload",dwr.engine._unloader)}}dwr.engine._handleError=function(a,b){if(typeof b=="string"){b={name:"unknown",message:b}}if(b.message==null){b.message=""}if(b.name==null){b.name="unknown"}if(a&&typeof a.errorHandler=="function"){a.errorHandler(b.message,b)}else{if(dwr.engine._errorHandler){dwr.engine._errorHandler(b.message,b)}}if(a){dwr.engine._clearUp(a)}};dwr.engine._handleWarning=function(a,b){if(typeof b=="string"){b={name:"unknown",message:b}}if(b.message==null){b.message=""}if(b.name==null){b.name="unknown"}if(a&&typeof a.warningHandler=="function"){a.warningHandler(b.message,b)}else{if(dwr.engine._warningHandler){dwr.engine._warningHandler(b.message,b)}}if(a){dwr.engine._clearUp(a)}};dwr.engine._serializeAll=function(b,d,c,a){if(c==null){b.map[a]="null:null";return}switch(typeof c){case"boolean":b.map[a]="boolean:"+c;break;case"number":b.map[a]="number:"+c;break;case"string":b.map[a]="string:"+encodeURIComponent(c);break;case"object":if(c instanceof String){b.map[a]="String:"+encodeURIComponent(c)}else{if(c instanceof Boolean){b.map[a]="Boolean:"+c}else{if(c instanceof Number){b.map[a]="Number:"+c}else{if(c instanceof Date){b.map[a]="Date:"+c.getTime()}else{if(c&&c.join){b.map[a]=dwr.engine._serializeArray(b,d,c,a)}else{b.map[a]=dwr.engine._serializeObject(b,d,c,a)}}}}}break;case"function":break;default:dwr.engine._handleWarning(null,{name:"dwr.engine.unexpectedType",message:"Unexpected type: "+typeof c+", attempting default converter."});b.map[a]="default:"+c;break}};dwr.engine._lookup=function(e,c,a){var d;for(var b=0;b<e.length;b++){if(e[b].data==c){d=e[b];break}}if(d){return"reference:"+d.name}e.push({data:c,name:a});return null};dwr.engine._serializeObject=function(c,h,g,b){var f=dwr.engine._lookup(h,g,b);if(f){return f}if(g.nodeName&&g.nodeType){return dwr.engine._serializeXml(c,h,g,b)}var e="Object_"+dwr.engine._getObjectClassName(g)+":{";var d;for(d in g){if(typeof g[d]!="function"){c.paramCount++;var a="c"+dwr.engine._batch.map.callCount+"-e"+c.paramCount;dwr.engine._serializeAll(c,h,g[d],a);e+=encodeURIComponent(d)+":reference:"+a+", "}}if(e.substring(e.length-2)==", "){e=e.substring(0,e.length-2)}e+="}";return e};dwr.engine._errorClasses={Error:Error,EvalError:EvalError,RangeError:RangeError,ReferenceError:ReferenceError,SyntaxError:SyntaxError,TypeError:TypeError,URIError:URIError};dwr.engine._getObjectClassName=function(c){if(c&&c.constructor&&c.constructor.toString){var d=c.constructor.toString();var a=d.match(/function\s+(\w+)/);if(a&&a.length==2){return a[1]}}if(c&&c.constructor){for(var b in dwr.engine._errorClasses){if(c.constructor==dwr.engine._errorClasses[b]){return b}}}if(c){var d=Object.prototype.toString.call(c);var a=d.match(/\[object\s+(\w+)/);if(a&&a.length==2){return a[1]}}return"Object"};dwr.engine._serializeXml=function(c,f,e,b){var d=dwr.engine._lookup(f,e,b);if(d){return d}var a;if(window.XMLSerializer){a=new XMLSerializer().serializeToString(e)}else{if(e.toXml){a=e.toXml}else{a=e.innerHTML}}return"XML:"+encodeURIComponent(a)};dwr.engine._serializeArray=function(h,c,f,a){var d=dwr.engine._lookup(c,f,a);if(d){return d}if(document.all&&!window.opera){var b=["Array:["];for(var g=0;g<f.length;g++){if(g!=0){b.push(",")}h.paramCount++;var j="c"+dwr.engine._batch.map.callCount+"-e"+h.paramCount;dwr.engine._serializeAll(h,c,f[g],j);b.push("reference:");b.push(j)}b.push("]");e=b.join("")}else{var e="Array:[";for(var g=0;g<f.length;g++){if(g!=0){e+=","}h.paramCount++;var j="c"+dwr.engine._batch.map.callCount+"-e"+h.paramCount;dwr.engine._serializeAll(h,c,f[g],j);e+="reference:";e+=j}e+="]"}return e};dwr.engine._unserializeDocument=function(a){var c;if(window.DOMParser){var e=new DOMParser();c=e.parseFromString(a,"text/xml");if(!c.documentElement||c.documentElement.tagName=="parsererror"){var b=c.documentElement.firstChild.data;b+="\n"+c.documentElement.firstChild.nextSibling.firstChild.data;throw b}return c}else{if(window.ActiveXObject){c=dwr.engine._newActiveXObject(dwr.engine._DOMDocument);c.loadXML(a);return c}else{var d=document.createElement("div");d.innerHTML=a;return d}}};dwr.engine._newActiveXObject=function(a){var d;for(var c=0;c<a.length;c++){try{d=new ActiveXObject(a[c]);break}catch(b){}}return d};dwr.engine._debug=function(f,d){var a=false;try{if(window.console){if(d&&window.console.trace){window.console.trace()}window.console.log(f);a=true}else{if(window.opera&&window.opera.postError){window.opera.postError(f);a=true}}}catch(c){}if(!a){var b=document.getElementById("dwr-debug");if(b){var e=f+"<br/>"+b.innerHTML;if(e.length>2048){e=e.substring(0,2048)}b.innerHTML=e}}};
;
var soy=soy||{};(function(){var b=navigator.userAgent;var a=b.indexOf("Opera")==0;soy.IS_OPERA_=a;soy.IS_IE_=!a&&b.indexOf("MSIE")!=-1;soy.IS_WEBKIT_=!a&&b.indexOf("WebKit")!=-1})();soy.StringBuilder=function(a,b){this.buffer_=soy.IS_IE_?[]:"";if(a!=null){this.append.apply(this,arguments)}};soy.StringBuilder.prototype.bufferLength_=0;soy.StringBuilder.prototype.append=function(b,a,d){if(soy.IS_IE_){if(a==null){this.buffer_[this.bufferLength_++]=b}else{this.buffer_.push.apply(this.buffer_,arguments);this.bufferLength_=this.buffer_.length}}else{this.buffer_+=b;if(a!=null){for(var c=1;c<arguments.length;c++){this.buffer_+=arguments[c]}}}return this};soy.StringBuilder.prototype.clear=function(){if(soy.IS_IE_){this.buffer_.length=0;this.bufferLength_=0}else{this.buffer_=""}};soy.StringBuilder.prototype.toString=function(){if(soy.IS_IE_){var a=this.buffer_.join("");this.clear();if(a){this.append(a)}return a}else{return(this.buffer_)}};soy.renderElement=function(b,c,a){b.innerHTML=c(a)};soy.renderAsFragment=function(d,a){var c=document.createElement("div");c.innerHTML=d(a);if(c.childNodes.length==1){return c.firstChild}else{var b=document.createDocumentFragment();while(c.firstChild){b.appendChild(c.firstChild)}return b}};soy.$$augmentData=function(e,a){function d(){}d.prototype=e;var c=new d();for(var b in a){c[b]=a[b]}return c};soy.$$escapeHtml=function(a){a=String(a);if(!soy.$$EscapeHtmlRe_.ALL_SPECIAL_CHARS.test(a)){return a}if(a.indexOf("&")!=-1){a=a.replace(soy.$$EscapeHtmlRe_.AMP,"&amp;")}if(a.indexOf("<")!=-1){a=a.replace(soy.$$EscapeHtmlRe_.LT,"&lt;")}if(a.indexOf(">")!=-1){a=a.replace(soy.$$EscapeHtmlRe_.GT,"&gt;")}if(a.indexOf('"')!=-1){a=a.replace(soy.$$EscapeHtmlRe_.QUOT,"&quot;")}return a};soy.$$EscapeHtmlRe_={ALL_SPECIAL_CHARS:/[&<>\"]/,AMP:/&/g,LT:/</g,GT:/>/g,QUOT:/\"/g};soy.$$escapeJs=function(b){b=String(b);var c=[];for(var a=0;a<b.length;a++){c[a]=soy.$$escapeChar(b.charAt(a))}return c.join("")};soy.$$escapeChar=function(d){if(d in soy.$$escapeCharJs_){return soy.$$escapeCharJs_[d]}var b=d;var a=d.charCodeAt(0);if(a>31&&a<127){b=d}else{if(a<256){b="\\x";if(a<16||a>256){b+="0"}}else{b="\\u";if(a<4096){b+="0"}}b+=a.toString(16).toUpperCase()}return soy.$$escapeCharJs_[d]=b};soy.$$escapeCharJs_={"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\x0B",'"':'\\"',"'":"\\'","\\":"\\\\"};soy.$$escapeUri=function(a){a=String(a);if(!soy.$$ENCODE_URI_REGEXP_.test(a)){return encodeURIComponent(a)}else{return a}};soy.$$ENCODE_URI_REGEXP_=/^[a-zA-Z0-9\-_.!~*'()]*$/;soy.$$insertWordBreaks=function(j,a){j=String(j);var f=[];var h=0;var b=false;var k=false;var g=0;var d=0;for(var e=0,c=j.length;e<c;++e){var l=j.charCodeAt(e);if(g>=a&&l!=soy.$$CharCode_.SPACE){f[h++]=j.substring(d,e);d=e;f[h++]=soy.WORD_BREAK_;g=0}if(b){if(l==soy.$$CharCode_.GREATER_THAN){b=false}}else{if(k){switch(l){case soy.$$CharCode_.SEMI_COLON:k=false;++g;break;case soy.$$CharCode_.LESS_THAN:k=false;b=true;break;case soy.$$CharCode_.SPACE:k=false;g=0;break}}else{switch(l){case soy.$$CharCode_.LESS_THAN:b=true;break;case soy.$$CharCode_.AMPERSAND:k=true;break;case soy.$$CharCode_.SPACE:g=0;break;default:++g;break}}}}f[h++]=j.substring(d);return f.join("")};soy.$$CharCode_={SPACE:32,AMPERSAND:38,SEMI_COLON:59,LESS_THAN:60,GREATER_THAN:62};soy.WORD_BREAK_=soy.IS_WEBKIT_?"<wbr></wbr>":soy.IS_OPERA_?"&shy;":"<wbr>";soy.$$changeNewlineToBr=function(a){a=String(a);if(!soy.$$CHANGE_NEWLINE_TO_BR_RE_.test(a)){return a}return a.replace(/(\r\n|\r|\n)/g,"<br>")};soy.$$CHANGE_NEWLINE_TO_BR_RE_=/[\r\n]/;soy.$$bidiTextDir=function(b,a){b=soy.$$bidiStripHtmlIfNecessary_(b,a);if(!b){return 0}return soy.$$bidiDetectRtlDirectionality_(b)?-1:1};soy.$$bidiDirAttr=function(c,d,a){var b=soy.$$bidiTextDir(d,a);if(b!=c){return b<0?"dir=rtl":b>0?"dir=ltr":""}return""};soy.$$bidiMarkAfter=function(c,d,a){var b=soy.$$bidiTextDir(d,a);return soy.$$bidiMarkAfterKnownDir(c,b,d,a)};soy.$$bidiMarkAfterKnownDir=function(c,b,d,a){return(c>0&&(b<0||soy.$$bidiIsRtlExitText_(d,a))?"\u200E":c<0&&(b>0||soy.$$bidiIsLtrExitText_(d,a))?"\u200F":"")};soy.$$bidiStripHtmlIfNecessary_=function(b,a){return a?b.replace(soy.$$BIDI_HTML_SKIP_RE_," "):b};soy.$$BIDI_HTML_SKIP_RE_=/<[^>]*>|&[^;]+;/g;soy.$$bidiSpanWrap=function(a,d){d=String(d);var c=soy.$$bidiTextDir(d,true);var b=soy.$$bidiMarkAfterKnownDir(a,c,d,true);if(c>0&&a<=0){d="<span dir=ltr>"+d+"</span>"}else{if(c<0&&a>=0){d="<span dir=rtl>"+d+"</span>"}}return d+b};soy.$$bidiUnicodeWrap=function(a,d){d=String(d);var c=soy.$$bidiTextDir(d,true);var b=soy.$$bidiMarkAfterKnownDir(a,c,d,true);if(c>0&&a<=0){d="\u202A"+d+"\u202C"}else{if(c<0&&a>=0){d="\u202B"+d+"\u202C"}}return d+b};soy.$$bidiLtrChars_="A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02B8\u0300-\u0590\u0800-\u1FFF\u2C00-\uFB1C\uFDFE-\uFE6F\uFEFD-\uFFFF";soy.$$bidiNeutralChars_="\u0000-\u0020!-@[-`{-\u00BF\u00D7\u00F7\u02B9-\u02FF\u2000-\u2BFF";soy.$$bidiRtlChars_="\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC";soy.$$bidiRtlDirCheckRe_=new RegExp("^[^"+soy.$$bidiLtrChars_+"]*["+soy.$$bidiRtlChars_+"]");soy.$$bidiNeutralDirCheckRe_=new RegExp("^["+soy.$$bidiNeutralChars_+"]*$|^http://");soy.$$bidiIsRtlText_=function(a){return soy.$$bidiRtlDirCheckRe_.test(a)};soy.$$bidiIsNeutralText_=function(a){return soy.$$bidiNeutralDirCheckRe_.test(a)};soy.$$bidiRtlDetectionThreshold_=0.4;soy.$$bidiRtlWordRatio_=function(e){var b=0;var a=0;var d=e.split(" ");for(var c=0;c<d.length;c++){if(soy.$$bidiIsRtlText_(d[c])){b++;a++}else{if(!soy.$$bidiIsNeutralText_(d[c])){a++}}}return a==0?0:b/a};soy.$$bidiDetectRtlDirectionality_=function(a){return soy.$$bidiRtlWordRatio_(a)>soy.$$bidiRtlDetectionThreshold_};soy.$$bidiLtrExitDirCheckRe_=new RegExp("["+soy.$$bidiLtrChars_+"][^"+soy.$$bidiRtlChars_+"]*$");soy.$$bidiRtlExitDirCheckRe_=new RegExp("["+soy.$$bidiRtlChars_+"][^"+soy.$$bidiLtrChars_+"]*$");soy.$$bidiIsLtrExitText_=function(b,a){b=soy.$$bidiStripHtmlIfNecessary_(b,a);return soy.$$bidiLtrExitDirCheckRe_.test(b)};soy.$$bidiIsRtlExitText_=function(b,a){b=soy.$$bidiStripHtmlIfNecessary_(b,a);return soy.$$bidiRtlExitDirCheckRe_.test(b)};
;

// Provide a default path to dwr.engine
if (dwr == null) var dwr = {};
if (dwr.engine == null) dwr.engine = {};
if (DWREngine == null) var DWREngine = dwr.engine;

if (ToggleFeatured == null) var ToggleFeatured = {};
ToggleFeatured._path = '/community/dwr';
ToggleFeatured.toggleFeatured = function(p0, p1, p2, p3, callback) {
  dwr.engine._execute(ToggleFeatured._path, 'ToggleFeatured', 'toggleFeatured', p0, p1, p2, p3, callback);
}

;
if(typeof jive=="undefined"){var jive={}}if(typeof jive.StatusInput=="undefined"){jive.StatusInput={}}if(typeof jive.StatusInput.soy=="undefined"){jive.StatusInput.soy={}}jive.StatusInput.soy.ddSearch=function(a,c){var b=c||new soy.StringBuilder();b.append('<div class="j-autocomplete j-popover j-js-autocomplete"><div class="j-top-pointer"></div>');jive.StatusInput.soy.ddOutputEntries(a,b);b.append('<p class="j-search-hint">',soy.$$escapeHtml(a.i18n.ddSearchHint),"</p></div>");if(!c){return b.toString()}};jive.StatusInput.soy.ddTags=function(a,c){var b=c||new soy.StringBuilder();b.append('<div class="j-autocomplete j-popover j-js-autocomplete"><div class="j-top-pointer"></div>');if(a.currentTagText){jive.StatusInput.soy.ddOutputTags(soy.$$augmentData(a,{shouldCreateTag:soy.$$escapeHtml(a.shouldCreateTag),creationHTML:(a.allowTagCreation)?'<a class="jive-js-status-input-selectable jive-js-status-input-create" href="javascript:void(0)" data-id="'+soy.$$escapeHtml(a.currentTagText)+'">'+soy.$$escapeHtml(a.i18n.ddTagsCreateTitle)+soy.$$escapeHtml(a.currentTagText)+"</a>":""}),b)}else{b.append('<p class="font-color-meta j-autocomplete-tag-prompt">',(a.allowTagCreation)?soy.$$escapeHtml(a.i18n.ddTagsTitle):soy.$$escapeHtml(a.i18n.ddTagsTitleNoCreate),"</p>")}b.append("</div>");if(!c){return b.toString()}};jive.StatusInput.soy.ddFriends=function(a,c){var b=c||new soy.StringBuilder();b.append('<div class="j-autocomplete j-popover j-js-autocomplete"><div class="j-top-pointer"></div><p class="font-color-meta">',soy.$$escapeHtml(a.i18n.ddTitle),'</p><ul class="j-autocomplete-nav clearfix"><li>',soy.$$escapeHtml(a.i18n.ddFriendsLinkText),'</li><li><a class="jive-js-status-input-selectable jive-js-history" href="javascript:void(0);">',soy.$$escapeHtml(a.i18n.ddHistoryLinkText),"</a></li></ul>");jive.StatusInput.soy.ddOutputEntries(soy.$$augmentData(a,{emptyEntriesStr:a.i18n.ddNofriendsLabel}),b);b.append("</div>");if(!c){return b.toString()}};jive.StatusInput.soy.ddHistory=function(a,c){var b=c||new soy.StringBuilder();b.append('<div class="j-autocomplete j-popover j-js-autocomplete"><div class="j-top-pointer"></div><p class="font-color-meta">',soy.$$escapeHtml(a.i18n.ddTitle),'</p><ul class="j-autocomplete-nav clearfix"><li><a class="jive-js-status-input-selectable jive-js-friends" href="javascript:void(0);">',soy.$$escapeHtml(a.i18n.ddFriendsLinkText),"</a></li><li>",soy.$$escapeHtml(a.i18n.ddHistoryLinkText),"</li></ul>");jive.StatusInput.soy.ddOutputEntries(soy.$$augmentData(a,{emptyEntriesStr:a.i18n.ddUserbarNoHistoryToView}),b);b.append("</div>");if(!c){return b.toString()}};jive.StatusInput.soy.ddOutputEntries=function(a,g){var d=g||new soy.StringBuilder();d.append('<ul class="j-autocomplete-results">');var c=a.entries;var e=c.length;if(e>0){for(var f=0;f<e;f++){var b=c[f];d.append("<li>",b.html,"</li>")}}else{d.append((a.emptyEntriesHTML)?"<li>"+a.emptyEntriesHTML+"</li>":soy.$$escapeHtml(a.emptyEntriesStr))}d.append("</ul>");if(!g){return d.toString()}};jive.StatusInput.soy.ddOutputTags=function(a,g){var b=g||new soy.StringBuilder();b.append('<ul class="j-autocomplete-results">',(a.shouldCreateTag=="true")?"<li>"+a.creationHTML+"</li>":"");var d=a.entries;var e=d.length;for(var f=0;f<e;f++){var c=d[f];b.append("<li>",c.html,"</li>")}b.append("</ul>");if(!g){return b.toString()}};
;
if(typeof jive=="undefined"){var jive={}}if(typeof jive.rte=="undefined"){jive.rte={}}if(typeof jive.rte.table=="undefined"){jive.rte.table={}}jive.rte.table.headerCellProperties=function(a,c){var b=c||new soy.StringBuilder();b.append("<div class='content ",soy.$$escapeHtml(a.section),"Header'><h3>rte.table.sample_header</h3><div class='formFields sampleContainer'><table align='center' class='sampleHeader' style='width:145px;margin-left:20px;'><tr><th>rte.table.header</th></tr></table></div><h3>rte.table.style</h3><div class='formFields'>rte.table.padding: <input value='' class='padding spin-button' maxlength='2'/> px<br>rte.table.background: <input value='' class='backgroundColor color'/><br></div><h3>rte.table.text</h3><div class='formFields'>rte.table.alignment:<a href='javascript:;' class='mceButton mceButtonEnabled mceButtonSelected mce_justifyleft' title='rte.table.align_left'><span class='mceIcon mce_justifyleft'></span></a><a href='javascript:;' class='mceButton mceButtonEnabled mce_justifycenter' title='rte.table.align_center'><span class='mceIcon mce_justifycenter'></span></a><a href='javascript:;' class='mceButton mceButtonEnabled mce_justifyright' title='rte.table.align_right'><span class='mceIcon mce_justifyright'></span></a><a href='javascript:;' class='mceButton mceButtonEnabled mce_justifyfull' title='rte.table.align_full'><span class='mceIcon mce_justifyfull'></span></a><br>rte.table.font_family: <a href='javascript:;' class='family'/></a><br>rte.table.color: <input value='' class='fontColor color'/><br></div></div>");if(!c){return b.toString()}};jive.rte.table.cellProperties=function(a,c){var b=c||new soy.StringBuilder();b.append("<div class='content ",soy.$$escapeHtml(a.section),"Cell'><h3>rte.table.sample_cell</h3><div class='formFields sampleContainer'><table align='center' class='sampleHeader' style='width:145px;margin-left:20px;'><tr><th>rte.table.cell</th></tr></table></div><h3>rte.table.style</h3><div class='formFields'>rte.table.padding: <input value='' class='padding spin-button' maxlength='2'/> px<br>rte.table.background: <input value='' class='backgroundColor color'/><br></div><h3>rte.table.text</h3><div class='formFields'>rte.table.alignment:<a href='javascript:;' class='mceButton mceButtonEnabled mceButtonSelected mce_justifyleft' title='rte.table.align_left'><span class='mceIcon mce_justifyleft'></span></a><a href='javascript:;' class='mceButton mceButtonEnabled mce_justifycenter' title='rte.table.align_center'><span class='mceIcon mce_justifycenter'></span></a><a href='javascript:;' class='mceButton mceButtonEnabled mce_justifyright' title='rte.table.align_right'><span class='mceIcon mce_justifyright'></span></a><a href='javascript:;' class='mceButton mceButtonEnabled mce_justifyfull' title='rte.table.align_full'><span class='mceIcon mce_justifyfull'></span></a><br>rte.table.font_family: <a href='javascript:;' class='family'/></a><br>rte.table.color: <input value='' class='fontColor color'/><br></div></div>");if(!c){return b.toString()}};jive.rte.table.tableProperties=function(a,c){var b=c||new soy.StringBuilder();b.append("<div class='content tableStyle'><h3>rte.table.headers</h3><div class='formFields'><a href='javascript:;' class='th th-t'></a><a href='javascript:;' class='th th-tb'></a><a href='javascript:;' class='th th-tl'></a><a href='javascript:;' class='th th-n'></a></div><h3>rte.table.border</h3><div class='formFields'>rte.table.width: <input value='' class='borderWidth spin-button' maxlength='2'/> px<br>rte.table.color: <input value='' class='borderColor color'/><br></div><h3>rte.table.size_and_position</h3><div class='formFields'>rte.table.width: <input value='' class='widthPx spin-button' maxlength='4'/> <input value='' class='widthPer spin-button' maxlength='3'/> <input type='radio' name='width' class='radio chooseWidthPx'/> px <input type='radio' name='width' class='radio chooseWidthPer'/> %<br>rte.table.height: <input type='radio' name='height' class='radio chooseHeightAuto'/> rte.table.auto<br/><input type='radio' name='height' class='radio chooseHeightPx'/> <input value='' class='heightPx spin-button' maxlength='4'/> px<br>rte.table.alignment:<a href='javascript:;' class='mceButton mceButtonEnabled mce_justifytablenone' title='rte.table.align_none'><span class='mceIcon mce_justifytablenone'></span></a><a href='javascript:;' class='mceButton mceButtonEnabled mce_justifytableleft' title='rte.table.align_left'><span class='mceIcon mce_justifytableleft'></span></a><a href='javascript:;' class='mceButton mceButtonEnabled mce_justifytableright' title='rte.table.align_right'><span class='mceIcon mce_justifytableright'></span></a></div></div>");if(!c){return b.toString()}};jive.rte.table.columnProperties=function(a,c){var b=c||new soy.StringBuilder();b.append("<div class='content columnStyle'><h3>rte.table.headers</h3><div class='formFields'><a href='javascript:;' class='th th-t'></a><a href='javascript:;' class='th th-tb'></a><a href='javascript:;' class='th th-tl'></a><a href='javascript:;' class='th th-n'></a></div><h3>rte.table.size_and_position</h3><div class='formFields'>rte.table.width: <input type='radio' name='width' class='radio chooseWidthAuto'/> rte.table.auto<br/><input type='radio' name='width' class='radio chooseWidthPx'/> <input value='' class='widthPx spin-button' maxlength='4'/> px<br/><input type='radio' name='width' class='radio chooseWidthPer'/> <input value='' class='widthPer spin-button' maxlength='3'/> %<br></div></div>");if(!c){return b.toString()}};jive.rte.table.rowProperties=function(a,c){var b=c||new soy.StringBuilder();b.append("<div class='content rowStyle'><h3>rte.table.headers</h3><div class='formFields'><a href='javascript:;' class='th th-a'></a><a href='javascript:;' class='th th-l'></a><a href='javascript:;' class='th th-n'></a></div><h3>rte.table.size_and_position</h3><div class='formFields'>rte.table.height: <input type='radio' name='width' class='radio chooseHeightAuto'/> rte.table.auto<br/><input type='radio' name='width' class='radio chooseHeightPx'/> <input value='' class='heightPx spin-button' maxlength='4'/> px<br/></div></div>");if(!c){return b.toString()}};jive.rte.table.allTableProperties=function(a,c){var b=c||new soy.StringBuilder();b.append("<div class='properties'><form action='javascript:;' onsubmit='return false'><nav class='j-tab-nav'><ul class='tabs j-tabbar'><li class='j-tab-selected'><a href='javascript:;'>rte.table.style</a></li><li><a href='javascript:;'>rte.table.header</a></li><li><a href='javascript:;'>rte.table.cell</a></li></ul></nav>");jive.rte.table.tableProperties(null,b);jive.rte.table.headerCellProperties({section:"table"},b);jive.rte.table.cellProperties({section:"table"},b);b.append("</form></div>");if(!c){return b.toString()}};jive.rte.table.allColumnProperties=function(a,c){var b=c||new soy.StringBuilder();b.append("<div class='properties'><form action='javascript:;' onsubmit='return false'><nav class='j-tab-nav'><ul class='tabs j-tabbar'><li class='j-tab-selected'><a href='javascript:;'>rte.table.style</a></li><li><a href='javascript:;'>rte.table.header</a></li><li><a href='javascript:;'>rte.table.cell</a></li></ul></nav>");jive.rte.table.columnProperties(null,b);jive.rte.table.headerCellProperties({section:"column"},b);jive.rte.table.cellProperties({section:"column"},b);b.append("</form></div>");if(!c){return b.toString()}};jive.rte.table.allRowProperties=function(a,c){var b=c||new soy.StringBuilder();b.append("<div class='properties'><form action='javascript:;' onsubmit='return false'><nav class='j-tab-nav'><ul class='tabs j-tabbar'><li class='j-tab-selected'><a href='javascript:;'>rte.table.style</a></li><li><a href='javascript:;'>rte.table.header</a></li><li><a href='javascript:;'>rte.table.cell</a></li></ul></nav>");jive.rte.table.rowProperties(null,b);jive.rte.table.headerCellProperties({section:"row"},b);jive.rte.table.cellProperties({section:"row"},b);b.append("</form></div>");if(!c){return b.toString()}};jive.rte.table.allCellProperties=function(a,c){var b=c||new soy.StringBuilder();b.append("<div class='properties'><form action='javascript:;' onsubmit='return false'><div class='content'><input type='radio' name='style' class='radio chooseHeader'/> rte.table.header<input type='radio' name='style' class='radio chooseCell'/> rte.table.cell</div>");jive.rte.table.headerCellProperties({section:"cell"},b);jive.rte.table.cellProperties({section:"cell"},b);b.append("</form></div>");if(!c){return b.toString()}};jive.rte.table.mergeCellProperties=function(a,c){var b=c||new soy.StringBuilder();b.append("<div class='properties'><form action='javascript:;' onsubmit='return false'></form></div>");if(!c){return b.toString()}};jive.rte.table.propertiesChooser=function(a,c){var b=c||new soy.StringBuilder();b.append("<div class='propertiesChooser'><h3>rte.table.edit: <span></span></h3><a class='button editTable' href='javascript:;'></a><a class='button editColumn' href='javascript:;'></a><a class='button editRow' href='javascript:;'></a><a class='button editCell' href='javascript:;'></a><a class='button deleteTable' href='javascript:;'></a></div>");if(!c){return b.toString()}};jive.rte.table.propertiesChooserTable=function(a,c){var b=c||new soy.StringBuilder();b.append("rte.table.table");if(!c){return b.toString()}};jive.rte.table.propertiesChooserRow=function(a,c){var b=c||new soy.StringBuilder();b.append("rte.table.row");if(!c){return b.toString()}};jive.rte.table.propertiesChooserColumn=function(a,c){var b=c||new soy.StringBuilder();b.append("rte.table.column");if(!c){return b.toString()}};jive.rte.table.propertiesChooserCell=function(a,c){var b=c||new soy.StringBuilder();b.append("rte.table.cell");if(!c){return b.toString()}};jive.rte.table.editText=function(a,c){var b=c||new soy.StringBuilder();b.append("rte.table.edit");if(!c){return b.toString()}};jive.rte.table.deleteText=function(a,c){var b=c||new soy.StringBuilder();b.append("rte.table.delete");if(!c){return b.toString()}};
;
(function(c){var a=c.scrollTo=function(f,e,d){c(window).scrollTo(f,e,d)};a.defaults={axis:"xy",duration:parseFloat(c.fn.jquery)>=1.3?0:1};a.window=function(d){return c(window).scrollable()};c.fn.scrollable=function(){return this.map(function(){var e=this,d=!e.nodeName||c.inArray(e.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!d){return e}var f=(e.contentWindow||e).document||e.ownerDocument||e;return c.browser.safari||f.compatMode=="BackCompat"?f.body:f.documentElement})};c.fn.scrollTo=function(f,e,d){if(typeof e=="object"){d=e;e=0}if(typeof d=="function"){d={onAfter:d}}if(f=="max"){f=9000000000}d=c.extend({},a.defaults,d);e=e||d.speed||d.duration;d.queue=d.queue&&d.axis.length>1;if(d.queue){e/=2}d.offset=b(d.offset);d.over=b(d.over);return this.scrollable().each(function(){var m=this,k=c(m),l=f,j,h={},n=k.is("html,body");switch(typeof l){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px)?$/.test(l)){l=b(l);break}l=c(l,this);case"object":if(l.is||l.style){j=(l=c(l)).offset()}}c.each(d.axis.split(""),function(r,s){var t=s=="x"?"Left":"Top",u=t.toLowerCase(),q="scroll"+t,o=m[q],p=s=="x"?"Width":"Height";if(j){h[q]=j[u]+(n?0:o-k.offset()[u]);if(d.margin){h[q]-=parseInt(l.css("margin"+t))||0;h[q]-=parseInt(l.css("border"+t+"Width"))||0}h[q]+=d.offset[u]||0;if(d.over[u]){h[q]+=l[p.toLowerCase()]()*d.over[u]}}else{h[q]=l[u]}if(/^\d+$/.test(h[q])){h[q]=h[q]<=0?0:Math.min(h[q],g(p))}if(!r&&d.queue){if(o!=h[q]){i(d.onAfterFirst)}delete h[q]}});i(d.onAfter);function i(o){k.animate(h,e,d.easing,o&&function(){o.call(this,f,d)})}function g(s){var p="scroll"+s;if(!n){return m[p]}var r="client"+s,q=m.ownerDocument.documentElement,o=m.ownerDocument.body;return Math.max(q[p],o[p])-Math.min(q[r],o[r])}}).end()};function b(d){return typeof d=="object"?d:{top:d,left:d}}})(jQuery);
;
(function(){var a=false,b=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.SammyClass=function(){};SammyClass.extend=function(g){var e=this.prototype;a=true;var d=new this();a=false;for(var c in g){d[c]=typeof g[c]=="function"&&typeof e[c]=="function"&&b.test(g[c])?(function(h,i){return function(){var k=this._super;this._super=e[h];var j=i.apply(this,arguments);this._super=k;return j}})(c,g[c]):g[c]}function f(){if(!a&&this.init){this.init.apply(this,arguments)}}f.prototype=d;f.constructor=f;f.extend=arguments.callee;return f}})();(function(a){a.srender=function(b,c,d){a.srender.cache=a.srender.cache||{};if(a.srender.cache[b]){fn=a.srender.cache[b]}else{if(typeof c=="undefined"){return false}fn=a.srender.cache[b]=new Function("obj",'var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push("'+c.replace(/[\r\t\n]/g," ").replace(/\"/g,'\\"').split("<%").join("\t").replace(/((^|%>)[^\t]*)/g,"$1\r").replace(/\t=(.*?)%>/g,'",$1,"').split("\t").join('");').split("%>").join('p.push("').split("\r").join("")+"\");}return p.join('');")}if(typeof d!="undefined"){return fn(d)}else{return fn}}})(jQuery);(function(d){var b="([^/]+)";var c=/:([\w\d]+)/g;var a=/\?([^#]*)$/;Sammy={};Sammy.VERSION="0.2.1";Sammy.Object=SammyClass.extend({init:function(e){d.extend(this,e)},clone:function(e){if(typeof e=="undefined"){e=this}return d.extend({},e)},toHash:function(){var e={};this.each(function(g,f){if(!d.isFunction(f)){e[g]=f}});return e},toHTML:function(){var e="";this.each(function(g,f){if(!d.isFunction(f)){e+="<strong>"+g+"</strong> "+f+"<br />"}});return e},uuid:function(){if(typeof this._uuid=="undefined"||!this._uuid){this._uuid=(new Date()).getTime()+"-"+parseInt(Math.random()*1000)}return this._uuid},each:function(){var g,f,h,e;g=this;if(typeof arguments[0]!="function"){f=arguments[0];h=arguments[1]}else{f=this;h=arguments[0]}e=function(){return h.apply(g,arguments)};d.each(f,e)},log:function(){var e=[].slice.call(arguments);e.unshift("["+Date()+"]");if(typeof window.console!="undefined"){window.console.log.apply(window.console,e)}else{if(typeof console!="undefined"){console.log.apply(this,e)}else{}}}});Sammy.Application=Sammy.Object.extend({ROUTE_VERBS:["get","post","put","delete"],APP_EVENTS:["run","unload","lookup-route","run-route","route-found","event-context-before","event-context-after","changed","error-404","check-form-submission","redirect"],_last_route:null,_running:false,data_store_name:"sammy-app",element_selector:"body",debug:false,silence_404:true,run_interval_every:50,init:function(e){var f=this;this.routes={};this.listeners={};this.befores=[];this.namespace=this.uuid();this.context_prototype=Sammy.EventContext.extend({});this.each(this.ROUTE_VERBS,function(g,h){this._defineRouteShortcut(h)});e.apply(this);if(this.debug){this.addLogger(function(h,g){f.log(f.toString(),h.cleaned_type,g||{})})}},toString:function(){return"Sammy.Application:"+this.element_selector},$element:function(){return d(this.element_selector)},route:function(k,h,m){var j=this;var l=[];var e;if(h.constructor==String){l=(h.match(c)||[]);for(e=0;e<l.length;e+=1){l[e]=l[e].replace(/^:/,"")}h=new RegExp(h.replace(c,b)+"$")}var f={verb:k,path:h,callback:m,param_names:l};if(typeof this.routes[k]=="undefined"||this.routes[k].length==0){this.routes[k]=[f]}else{var g=false;this.each(this.routes[k],function(o,n){if(h.toString().length>=n.path.toString().length){this.routes[k].splice(o,0,f);g=true;return false}});if(!g){this.routes[k].push(f)}}return f},eventNamespace:function(){return this.data_store_name+"-"+this.namespace+"-"},bind:function(e,g,h){if(typeof h=="undefined"){h=g}var f=function(){var k,i,j;k=arguments[0];i=arguments[1];j=arguments[2];k.cleaned_type=k.type.replace(i.eventNamespace(),"");h.apply(i,[k,j])};if(!this.listeners[e]){this.listeners[e]=[]}this.listeners[e].push(f);if(this.isRunning()){return this._listen(e,f)}},trigger:function(e,g,f){if(typeof f=="undefined"){f=new this.context_prototype(this,"bind",e,g)}return this.$element().triggerHandler(f.eventNamespace()+e,[f,g])},before:function(e){return this.befores.push(e)},after:function(e){return this.bind("event-context-after",e)},isRunning:function(){return this._running},helpers:function(e){this.context_prototype=this.context_prototype.extend(e)},run:function(e){if(this.isRunning()){return false}var f=this;this.each(this.listeners,function(g,h){this.each(h,function(k,j){this._listen(g,j)})});this.trigger("run",{start_url:e});this._running=true;this.$element().data(this.data_store_name,this);this.last_location=null;if(this.getLocation()==""&&typeof e!="undefined"){this.setLocation(e)}this._checkLocation();this._interval=setInterval(function(){f._checkLocation.apply(f)},this.run_interval_every);this.bind("changed",function(){f.$element().find("form:not(."+f.eventNamespace()+")").bind("submit",function(){return f._checkFormSubmission(this)}).addClass(f.eventNamespace())});d("body").bind("onunload",function(){f.unload()});this.trigger("changed")},unload:function(){if(!this.isRunning()){return false}var e=this;this.trigger("unload");clearInterval(this._interval);this.$element().find("form").unbind("submit").removeClass(e.eventNamespace());this.$element().removeData(this.data_store_name);this.each(this.listeners,function(f,g){this.each(g,function(j,h){this._unlisten(f,h)})});this._running=false},addLogger:function(e){this.each(this.APP_EVENTS,function(f,g){this.bind(g,e)})},_canonical:function(e){return e.replace(a,"")},lookupRoute:function(g,f){var e=false;this.trigger("lookup-route",{verb:g,path:f});if(typeof this.routes[g]!="undefined"){this.each(this.routes[g],function(j,h){if(this._canonical(f).match(h.path)){e=h;return false}})}return e},_parse_query:function(j){var g={},h,f,k,e;h=j.match(a);if(h){f=h[1].split("&");for(e=0;e<f.length;e+=1){k=f[e].split("=");g[k[0]]=k[1]}}return g},runRoute:function(l,i,k){this.trigger("run-route",{verb:l,path:i,params:k});if(typeof k=="undefined"){k={}}jQuery.extend(k,this._parse_query(i));var f=this.lookupRoute(l,i);if(f){this.trigger("route-found",{route:f});if((path_params=f.path.exec(this._canonical(i)))!=null){path_params.shift();this.each(path_params,function(m,n){if(f.param_names[m]){k[f.param_names[m]]=n}else{if(!k.splat){k.splat=[]}k.splat.push(n)}})}var g=new this.context_prototype(this,l,i,k);this.last_route=f;var e=true;var j=this.befores.slice(0);while(j.length>0){if(j.shift().apply(g)===false){return false}}g.trigger("event-context-before");var h=f.callback.apply(g);g.trigger("event-context-after");return h}else{this.notFound(l,i)}},getLocation:function(){var e=window.location.toString().match(/^[^#]*(#.+)$/);if(e){return e[1]}else{return""}},setLocation:function(e){window.location=e},swap:function(e){return this.$element().html(e)},notFound:function(f,e){this.trigger("error-404",{verb:f,path:e});throw ("404 Not Found "+f+" "+e)},_defineRouteShortcut:function(f){var e=this;this[f]=function(g,h){e.route.apply(e,[f,g,h])}},_checkLocation:function(){try{var f,g;f=this.getLocation();if(f!=this.last_location){g=this.runRoute("get",f)}this.last_location=f}catch(h){this.last_location=f;if(h.toString().match(/^404/)&&this.silence_404){return g}else{throw (h)}}return g},_checkFormSubmission:function(h){var f,j,l,k,g;this.trigger("check-form-submission",{form:h});f=d(h);j=f.attr("action");l=f.attr("method").toString().toLowerCase();k={};f.find(":input[type!=submit]").each(function(){if(d(this).is(":checkbox:not(:checked)")){k[d(this).attr("name")]=""}else{k[d(this).attr("name")]=d(this).val()}});try{g=this.runRoute(l,j,k);this.last_location=j}catch(i){if(i.toString().match(/^404/)&&this.silence_404){return true}else{throw (i)}}return(typeof g=="undefined")?false:g},_listen:function(e,f){return this.$element().bind(this.eventNamespace()+e,f)},_unlisten:function(e,f){return this.$element().unbind(this.eventNamespace()+e,f)}});Sammy.EventContext=Sammy.Object.extend({init:function(h,g,e,f){this.app=h;this.verb=g;this.path=e;this.params=f},$element:function(){return this.app.$element()},template:function(f,g,e){if(typeof e=="undefined"){e=f}return d.srender(e,f,d.extend({},g,this))},partial:function(h,g,j){var f,i,e;e=this;if(typeof j=="undefined"){if(typeof g=="function"){j=g;g={}}else{j=function(k){e.app.swap(k)}}}f=d.srender(h);g=d.extend({},g,this);if(f&&!this.app.debug){i=f(g);j.apply(e,[i]);e.trigger("changed")}else{d.get(h,function(k){i=d.srender(h,k,g);j.apply(e,[i]);e.trigger("changed")})}},redirect:function(e){this.trigger("redirect",{to:e});return this.app.setLocation(e)},trigger:function(e,f){return this.app.trigger(e,f,this)},eventNamespace:function(){return this.app.eventNamespace()},notFound:function(){return this.app.notFound(this.verb,this.path)}});d.sammy=function(e){return new Sammy.Application(e)}})(jQuery);
;
jive.namespace("Pager");jive.Pager.Parameter=function(e,a){var f=a,d=Number(a)===a,h=$j.isArray(a);function g(i){switch(i){case"next":g(f+1);break;case"previous":g(f-1);break;case"first":g(1);break;default:if(Number(i)===i||i&&i.match&&i.match(/^[0-9]+/)){f=Number(i);if(f<1){f=1}}else{f=a}}}function b(i){if(i){if(typeof(i.split)=="function"){f=i.split("+")}else{f=i}}else{f=a}}function c(i){if(typeof(i)!="undefined"){f=i}else{f=a}}this.key=e;this.value=f;this.default_value=a;this.set=function(i){if(d){g(i)}else{if(h||$j.isArray(i)||(i&&typeof i.match=="function"&&i.match(/\+/))){b(i)}else{c(i)}}this.key=e;this.value=f;this.default_value=a;return f}};jive.Pager.Parameter.prototype={add:function(a){if(!$j.isArray(this.value)){throw new TypeError()}return this.set(this.value.concat(a).unique())},remove:function(a){if(!$j.isArray(this.value)){throw new TypeError()}return this.set(this.value.filter(function(b){return b!==a}))},unset:function(){return this.set()}};
;
jive.namespace("Pager");jive.Pager.MainView=function(f){jive.observable(this);var a=this,e=true;var d=(location.pathname+location.search).match(/^([^#]*)(#.*)?$/);d=d?d[1]:d;function c(g){var h;if(typeof(g.button)!="undefined"&&g.button!==0){return}h=$j(this).data("pager-state");a.emit("click",h);g.preventDefault()}$j("[data-pager-state]").live("click",c);function b(){var i=$j(f),k=i.find("[tabindex]:first"),j=i.find("a:not([href^=#]):first"),h=i.find("a:first"),g=i.find(":input:not(:disabled):first");return([k,j,h,g].filter(function(l){return l.length>0}).first()||$j())}this.loading=function(){};this.update=function(){if(!e){b().focus()}e=false};this.unload=function(){$j("[href*=#/]").die("click",c)}};
;
jive.namespace("Pager");jive.Pager.Main=function(g,i,o,n){jive.observable(this);var e,d=["updated","created","alpha"],q=[],h={page:1,per_page:15,tags:[]},k=new jive.Pager.MainView(g),p=false,j=this;if(typeof(n)==="undefined"){n=true}$j.extend(h,o||{});Object.keys(h).map(function(r){q.push(new jive.Pager.Parameter(r,h[r]))});function m(r){var s=q.filter(function(t){return t.key==r}).first();if(!s){s=new jive.Pager.Parameter(r);q.push(s)}return s}function c(r){return m("page").set(r)}function b(){var r={};q.forEach(function(s){if(s.key=="page"){r.start=(m("page").value-1)*m("per_page").value}else{if(s.key=="per_page"){r.range=m("per_page").value;r.numResults=m("per_page").value}else{r[s.key]=s.value}}});return r}function f(){return["#/",q.filter(function(r){return r.value&&(!$j.isArray(r.value)||r.value.length>0)&&r.value!=r.default_value}).sort(function(s,r){return s.key<r.key?-1:(s.key>r.key?1:0)}).map(function(r){if($j.isArray(r.value)){return[r.key,r.value.join("+")]}else{return[r.key,r.value]}}).map(function(r){return r.join("=")}).join("&")].filter(function(r){return r}).join("?")}function l(t,x){function u(){k.update();t.trigger("changed");if(typeof x=="function"){x()}j.emit("load")}k.loading();if($j.isFunction(i)){i(b(),u)}else{var s=i,w=i.indexOf(" "),r;if(w>=0){r=s.slice(w,s.length);s=s.slice(0,w)}var v=$j.ajaxSettings.traditional;$j.ajaxSettings.traditional=true;$j.get(s,b(),function(y){var z;if(r){y=y.replace(/<script(.|\s)*?\/script>/gi,"");z=$j("<div/>").append(y).find(r)}else{z=y}$j(g).html(z);u()},"html");$j.ajaxSettings.traditional=v}}e=$j.sammy(function(){this.get(/^(?:#\/)?$/,function(){var r=this;q.map(function(s){s.unset()});Object.keys(this.params).map(function(s){m(s).set(r.params[s])});if(!p){l(this)}else{p=false}});this.get("#/pages/:page_number",function(){c(this.params.page_number);a.apply(this)});this.get(/^#\/page_sizes\/(\d*)$/,function(){m("per_page").set(this.params.splat[0]||this.params.numResults);c(1);a.apply(this)});this.get("#/sorts/:sort_type",function(){m("sort").set(this.params.sort_type);m("prefix").set(this.params.prefix);c(1);a.apply(this)});this.get("#/with_tags/:tags",function(){var r=m("tags");this.params.tags.split("+").map(function(s){r.add(encodeURIComponent(s))});c(1);a.apply(this)});this.get("#/without_tags/:tags",function(){var r=m("tags");this.params.tags.split("+").map(function(s){r.remove(encodeURIComponent(s))});c(1);a.apply(this)});this.get("#/parameters/",function(){var r=this;Object.keys(this.params).map(function(s){m(s).set(r.params[s])});c(1);a.apply(this)});this.bind("update",function(){l(this)})});function a(){if(e.last_location&&e.last_location==f()){history.back()}else{var r=f();this.redirect(r)}}if(e.getLocation().indexOf("#")<0){p=true}e.run();k.addListener("click",function(r){j.set_parameters(r)});this.set_parameters=function(s){var r={};if(typeof(s.page)=="undefined"){c(1)}Object.keys(s).map(function(t){r[t]=m(t).set(s[t])});if(n){e.setLocation(f())}else{l(e)}return r};this.get_parameters=function(){var r={};q.map(function(s){r[s.key]=s.value});return r};this.load_page=function(u,v){var s=q;var r=this.get_parameters();q=[];var t=$j.extend(r,u);if(typeof(u.page)=="undefined"){c(1)}Object.keys(t).map(function(w){m(w).set(t[w])});l(e,function(){q=s;if(typeof v=="function"){v()}})};this.update=function(){e.trigger("update")};this.unload=function(){e.unload();k.unload()};this._app=e};
;
jive.namespace("Autosubmitter",function(){function a(){$j(this).parents("form").trigger("submit")}$j("form.autosubmit:not(.autosubmit-registered) :input:not(:checkbox)").livequery("change",a);$j("form.autosubmit:not(.autosubmit-registered) :checkbox").livequery("click",a)});$j(document).ready(function(){var a=new jive.Autosubmitter()});
;
jive.TabView=function(e,m){jive.observable(this);m=m||{};var j=m.activeClass||"jive-body-tabcurrent",a=m.tabSelector||".jive-body-tab",d=m.nameFromTab||function(n){return n.attr("id").replace(/-tab$/,"")},h=this;function l(){return $j(e).find(a)}function c(){return l().filter(function(){return $j(this).hasClass(j)})}function g(){return d(l().filter(function(){return $j(this).hasClass(j)}))}function f(n){l().each(function(){var p=$j(this),o=d(p);p.toggleClass(j,o==n)});l().each(function(){var q=$j(this),p=d(q),o=$j('[id="'+p+'"]');if(p==n){o.show()}else{o.hide()}})}function k(n){h.emit("tabSwitch",n,c())}function i(n){f(n);k(n)}function b(o,p){var n=l().filter(function(){return d($j(this))==o});n.toggle(!!p)}this.switchTo=i;this.setVisibility=b;this.activeTabName=g;this.activeTab=c;$j(document).ready(function(){l().each(function(){var o=$j(this),n=d(o);o.find("a").click(function(){i(n);return false})});if(!l().hasClass(j)){l().find("a").first().trigger("click")}})};
;
jive.namespace("SharedViews");jive.SharedViews.RteView=$Class.extend({init:function(a,b){this._preferredMode=window.preferredMode||b.preferredMode||"advanced";this._container=$j(a);this._formActionContainer=(b.formActionContainer)?$j(b.formActionContainer):this._container;this._rteDisabledBrowser=b.rteDisabledBrowser;this._resourceID=b.resourceID;this._resourceType=b.resourceType;this._isAnonymous=b.isAnonymous;this._setImagePickerURLs(b);this._templateName=b.templateName||"rte-template";this._bodyContent=b.bodyContent;this._settingsID=b.settingsID||"mini";this._i18n=b.i18n;this._imagesEnabled=b.imagesEnabled;if(this._imagePickerUrl){window._jive_image_picker_url=this._imagePickerUrl}if(this._imagesEnabled!=null){window._jive_images_enabled=this._imagesEnabled}var c=this;$j(document).ready(function(){c._render();if(!c._rteDisabledBrowser){c._createRTE()}c._addListeners()})},remove:function(){if(!this._rteDisabledBrowser){if(this._rte){this._rte.destroy()}window.editor.clear("wysiwygtext");jive.rte.multiRTE=jive.rte.multiRTE.filter(function(a){return a!="wysiwygtext"})}this._container.find("form").remove();$j(window).unbind("unload",this._unloadCallback);this.emit("remove")},val:function(a){if(a){this._rte.setHTML(a);return this}else{return this._getContentBody()}},setPreviewButtonText:function(a){this._container.find("[name=preview]").val(a)},_setImagePickerURLs:function(a){this._imagePickerUrl=a.imagePickerUrl;this._destroyImagePickerUrl=a.destroyImagePickerUrl},focus:function(){this._rte.tinymceFocus()},_initEditor:function(){this._currentMode="advanced";var a=this;var b=new jive.rte.RTEListener();b.doneTogglingMode=function(){if(a._currentMode=="advanced"){a._currentMode="rawhtml"}else{a._currentMode="advanced"}a._refreshLinks();a.emit("toggle",a._currentMode)};this._rte.addListener(b);if(this._preferredMode=="rawhtml"){this._rte.toggleEditorMode("wysiwygtext")}else{if(tinymce.isIE){this._rte.toggleEditorMode();this._rte.toggleEditorMode()}}},_initRTE:function(){var a=this;if(this._rte.isTextOnly()){$j("#wysiwyg-panel").removeClass("loading");this._preferredMode="rawhtml";this._currentMode="rawhtml";return}this._initEditor();this._refreshLinks();setTimeout(function(){a.focus()},0);this.emit("ready")},_createRTE:function(){var a=this;this._rte=new jive.rte.RTE(jiveControl,"wysiwygtext",this._settingsID);window.editor.put("wysiwygtext",this._rte);jive.rte.multiRTE.push("wysiwygtext");var b=new jive.rte.RTEListener();b.initFinished=function(c){a._initRTE()};this._rte.addListener(b)},_getContentBody:function(){if(!this._rteDisabledBrowser){return this._rte.getHTML()}else{return this._container.find("textarea:visible").val()}},_getValues:function(){return{body:this._getContentBody()}},_postHandler:function(){this.emit("post",this._getValues());return false},_addListeners:function(){var a=this;this._formActionContainer.find("[name=post]").click(function(){return a._postHandler()}).end().find("[name=preview]").click(function(){a.emit("preview",a._getValues());return false}).end().find("[name=cancel]").click(function(){a.emit("cancel",a._getValues());a._unload();return false});this._container.find(".toggle_preferred_mode").click(function(){var b=a._currentMode;WikiTextConverter.setPreferredEditorMode(b,{callback:function(){a._preferredMode=b;window.preferredMode=b;a._refreshLinks()},timeout:DWRTimeout});return false}).end().find(".toggle_html").click(function(){a._rte.toggleEditorMode("wysiwygtext");return false});this._unloadCallback=this._unload.bind(this);$j(window).bind("unload",this._unloadCallback)},_unload:(function(){if(this._destroyImagePickerUrl){$j.ajax({url:this._destroyImagePickerUrl,type:"POST"})}}),_template:(function(){var b={};return function a(f,e){var c=/^[\w\-]+$/.test(f)?b[f]=b[f]||a(document.getElementById(f).innerHTML):new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+f.replace(/[\r\t\n]/g," ").replace(/(^|%>)(.+?)(<%|$)/,function(g,h,i,j){return h+d(i)+j}).split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');");return e?c(e):c;function d(g){return g.replace("'","&apos;").replace("\\","\\\\")}}})(),_render:function(){this._container.append(this._template(this._templateName,{body:this._bodyContent}))},_refreshLinks:function(){this._container.find(".toggle_html").toggle(this._currentMode=="rawhtml");this._container.find(".toggle_preferred_mode").toggle(this._preferredMode!=this._currentMode)}});jive.SharedViews.RteView.setMiniRTEQuotedMsg=function(c,b,d,a){window._jive_gui_quote_text=jive.DiscussionApp.soy.rteMsgQuote({i18n:b,userName:c,isAnonymous:d,msgBody:a})};jive.observable(jive.SharedViews.RteView.prototype);
;
jive.namespace("shared");jive.shared.FormWaitingView=$Class.extend({init:function(a,b){this._$container=$j(a);this._i18n=b.i18n;if(b.containerPadding){this._containerPadding=b.containerPadding}else{this._containerPadding=this._$container.css("padding-left")==null?0:Number(this._$container.css("padding-left").replace("px",""))}this._buttonSelector=b.buttonSelector||"input[type=button], input[type=submit]";this._bgCssClass=b.bgCssClass||"jive-form-waiting-disable-bg"},disableForm:function(){if(this._$container.find(".jive-js-form-disable").length==0){var c={width:this._$container.innerWidth(),height:this._$container.innerHeight(),left:0,top:0};var d=$j(jive.Shared.soy.formWaitingOverlay({i18n:this._i18n,bgCssClass:this._bgCssClass}));for(var b in c){d.css(b,c[b]+"px")}d.prependTo(this._$container);var a=d.find(".jive-js-load-indicator");a.css("left",(c.width/2-a.width()/2)+"px");a.css("top",(c.height/2-a.height()/2)+"px");this._$container.find(this._buttonSelector).attr("disabled",true)}},enableForm:function(){this._$container.find(".jive-js-form-disable").remove();this._$container.find(this._buttonSelector).removeAttr("disabled")}});
;
jive.namespace("CommentApp");jive.CommentApp.CommentSource=function(o){var a=o.resourceType,l=o.resourceID,c=o.listAction,k=o.location,d=o.commentMode,j=o.isPrintPreview,b=o.contentObject,n=jive.rest.url("/comments"),i=n+"/"+a+"/"+l;function g(p){if(typeof p=="function"){p={success:p}}return p}function f(r,q){q=g(q);var p;if(r.id){p=n+"/"+r.id}else{p=i}$j.ajax({type:"POST",url:p,dataType:"json",data:JSON.stringify({comment:r}),contentType:"application/json; charset=utf-8",success:function(s,v,u){try{r.id=s.comment.commentID||r.id;r.moderated=s.comment.moderated;if(typeof q.success=="function"){q.success.call(r,r)}}catch(t){q.error.call(r,null,u.status)}},error:function(t,w,v){if(typeof q.error=="function"){try{var s=$j.parseJSON(t.responseText);if(s&&s.error&&s.error.message){q.error.call(r,s.error.message,s.error.code)}}catch(u){q.error.call(r,null,t==null?null:t.status)}}}});return this}function m(q,p){p=g(p);$j.ajax({type:"GET",url:c,dataType:"html",data:$j.extend({location:k,mode:d,isPrintPreview:j},b,q),success:function(r){if(typeof p.success=="function"){p.success.call(null,r)}},error:function(r){if(typeof p.error=="function"){p.error.call(null,r)}}});return this}function e(q,p){p=g(p);$j.ajax({type:"POST",url:i+"/preview",dataType:"html",data:{commentBody:q.body},success:function(r){if(typeof p.success=="function"){p.success.call(null,r)}},error:function(r){if(typeof p.error=="function"){p.error.call(null,r)}}});return this}function h(q,p){p=g(p);$j.ajax({type:"DELETE",url:n+"/"+q.id,complete:function(r){if($j.httpSuccess(r)){if(typeof p.success=="function"){p.success.call(q)}}else{if(typeof p.error=="function"){p.error.call(q)}}}})}this.save=f;this.destroy=h;this.getAllAsHTML=m;this.getPreview=e};
;
jive.namespace("CommentApp");jive.CommentApp.Comment=$Class.extend({init:function(b){var a=this;Object.keys(b).forEach(function(c){a[c]=b[c]})}});
;
jive.namespace("CommentApp");jive.CommentApp.CommentListView=function(k,d){jive.observable(this);var b,c=this,j=d.i18n;function o(){if(b){c.options.rteOptions.autoSave.stop();b.remove();b=null;$j(".jive-comment-add-link").show()}}function q(A,x,z,w){o();var y=A===jive.CommentApp.EditFormView;if(y){m(z.getDOMElement(),false)}else{m(null,false)}$j(".jive-comment-add-link").hide();b=new A(x,w);b.addListener("post",function(C,B){c.emit("saveComment",C,B);c.emit("savedComment")}).addListener("cancel",function(){c.emit("cancelComment");o();m(null,true)}).addListener("remove",function(){if(y){z.hideCommentEdit()}})}function r(z,x){var w;if(!x){x=z;z=null;w=v()}else{w=g(z)}var y=$j(w).find(".jive-comment-post");return q(jive.CommentApp.FormView,y,z,$j.extend({i18n:j},x))}function e(y,w){var x=$j(y.getDOMElement());if(!x.is(".jive-comment-edit")){x=x.find(".jive-comment-edit:first")}return q(jive.CommentApp.EditFormView,x,y,w)}function a(){function w(B){return $j(B).closest(".jive-comment-actions").attr("data-comment-id")}function A(C){var B=$j(C).closest("li[id^=comment-]");return(new jive.CommentApp.CommentView(B,$j.extend({id:w(C)},d)))}function y(B){return $j(B).attr("commentusername")}function x(F,B,E,C){var D=$j(F);if(D.length==0){window._jive_gui_quote_text=""}else{var G=D.attr("data-isAnonymous").toLowerCase()=="true";B.setQuotedMsg(E,G,(C?D.parents("li:first"):null))}}var z=$j(k);z.find(".jive-comment-actions a:has(.commentEdit)").die();z.find(".jive-comment-actions a:has(.commentEdit)").live("click",function(){m(null,true);c.emit("editComment");var E=$j(this).attr("data-parentID");var B=A(this),C=$j("#comment-"+E).find("a:has(.commentAdd):first"),D=y(C);x(C,B,D,true);B.showCommentEdit();e(B,$j.extend({id:w(this)},d));return false});z.find(".jive-comment-actions a:has(.commentDelete)").die();z.find(".jive-comment-actions a:has(.commentDelete)").live("click",function(){c.emit("deleteComment",A(this),w(this));return false});z.find(".jive-comment-actions a:has(.commentAdd)").die();z.find(".jive-comment-actions a:has(.commentAdd)").live("click",function(){c.emit("replyComment");var C=y(this),B=A(this);x(this,B,C);n(C);r(B,$j.extend({parentCommentID:w(this)},d));return false});$j(k).find(".jive-content-commentbar a:has(.jive-icon-comment-add), .jive-comment-add-link").unbind();$j(k).find(".jive-content-commentbar a:has(.jive-icon-comment-add), .jive-comment-add-link").click(function(){c.emit("createComment");window._jive_gui_quote_text="";n("");r(d);$j(".jive-create-comment p.jive-comment-meta").hide();return false})}function p(){var x=(window.location.hash.match(/^#([^\/].+)$/)||[])[1];var w=x?$j('a[name="'+x+'"], [id="'+x+'"]'):$j();if(w.length>0){$j.scrollTo(w,200,{offset:{top:-20,left:-200}})}}function i(w){$j(k).html(w);p();a();jive.bindLightboxMedia()}function h(x,w){if(w==401||w==403||w==4026||w==0){x=jive.i18n.sub(j.globalLoginRequired,'<a href="'+encodeURI(window.location).replace(/#.*$/,"")+'">',"</a>")}x=x||d.i18n.globalAjaxError;$j("#jive-comment-error").html(x).show()}function f(w){$j("#success-moderation-edit").html('<div><span class="jive-icon-med jive-icon-check"></span>'+w+"</div>").show();$j.scrollTo($j("#success-moderation-edit"),"slow",{offset:{top:-40,left:0}})}function t(w){}function m(w,x){w=w||$j(k).find(".jive-js-addReply");if(w.length==0){return}if(x){w.fadeOut("fast").remove();c.options.rteOptions.autoSave.stop()}else{w.fadeIn("fast");$j.scrollTo(w,"slow",{offset:{top:-40,left:0}});c.options.rteOptions.autoSave.start()}}function l(){var w=$j(k).find("ul.jive-comment:first");if(w.length===0){w=$j("<ul/>",{"class":"jive-comment jive-comment-threaded jive-comment-indent-0"});$j(k).find(".jive-comment-container").html(w)}return w}function u(w){l().append(w)}function v(){m(null,true);var w=$j(jive.CommentApp.soy.renderReply({i18n:d.i18n}));u(w);return w}function g(z){m(null,true);var x=$j(jive.CommentApp.soy.renderReply({commentID:z.getCommentID(),username:z.username(),i18n:d.i18n}));z.append(x);if(d.isThreaded){var y=z.indent(),w=parseInt(x.parent().css("margin-left"),10);x.css("margin-left",-y-w+"px")}return x}function s(){return $j(k).find(".baseCommentForm")}function n(w){if(!d.isThreaded){s().find(".replyToName").html(w)}}this.setContent=i;this.closeForm=o;this.displayError=h;this.displaySuccess=f;this.setPreviewButtonText=t;this.renderForm=q;this.options=d;$j(document).ready(function(){$j(k).delegate("#inline-comment-sort","change",function(){c.emit("sortChange",$j(this).val())})})};
;
jive.namespace("CommentApp");jive.CommentApp.FormView=$Class.extend({init:function(a,b){this._parentCommentID=b.parentCommentID;this._commentMode=b.commentMode;if(!this._postBlock){this._postBlock=$j("#jive-comment-post-block")}this._itemAuthorID="comment-author";this._itemBodyID="commentBody";this._itemEmailID="comment-email";this._itemURLID="comment-url";this._container=$j(a);this._initFormWaitingView(b.i18n);this.rteView=null;this._setImagePickerURLs(b);if(this._imagePickerUrl){window._jive_image_picker_url=this._imagePickerUrl}if(this._imagesEnabled!=null){window._jive_images_enabled=this._imagesEnabled}this.options=b;this._render()},getParentCommentID:function(){return this._parentCommentID},_initFormWaitingView:function(a){this._formWaitingView=new jive.shared.FormWaitingView(this._container.parents(".jive-js-addReply"),{i18n:a,containerPadding:0})},_setImagePickerURLs:function(a){this._imagePickerUrl=_jive_base_url+"/comment-image-picker.jspa?containerType="+a.containerType+"&container="+a.containerID+(a.id?"&comment="+a.id:"")+"&postedFromGUIEditor=true&contentObjectType="+a.resourceType+"&object="+a.resourceID;this._destroyImagePickerUrl=_jive_base_url+"/comment-image-picker!clean.jspa"},focus:function(){if(this._isAnonymous){$j("#"+this._itemAuthorID).focus()}else{this._super()}},_getValues:function(){return{body:this.rteView.getHTML(),mobileEditor:this.rteView.isMobileOnly(),name:$j("#"+this._itemAuthorID).val(),email:$j("#"+this._itemEmailID).val(),URL:$j("#"+this._itemURLID).val(),parentCommentID:this._parentCommentID,commentMode:this._commentMode}},_postHandler:function(){var a=this;a.emit("post",a._getValues(),function(){a._formWaitingView.enableForm()});a._formWaitingView.disableForm();return false},_render:function(){var a=this._postBlock.clone().removeAttr("id").show();this._container.append(a);var b=this;var c=$j.extend({$element:$j("#wysiwygtext"),isEditing:false,onReady:function(){b.rteView.focus();if(b.options.rteOptions.onReady){b.options.rteOptions.onReady()}}},this.options.rteOptions);this.rteView=new jive.rte.RTEWrap(c);this._container.find("form").find("[name=post]").click(function(){return b._postHandler()}).end().find("[name=cancel]").click(function(){b.emit("cancel",b._getValues());if(b._destroyImagePickerUrl){$j.ajax({url:b._destroyImagePickerUrl,type:"POST"})}return false})},remove:function(){if(this.rteView){this.rteView.killYourself();this.rteView.destroy()}window.editor.clear("wysiwygtext");jive.rte.multiRTE=jive.rte.multiRTE.filter(function(a){return a!="wysiwygtext"});this._container.find("form").parent().html("");$j(window).unbind("unload",this._unloadCallback);this.emit("remove")}});jive.observable(jive.CommentApp.FormView.prototype);
;
jive.namespace("CommentApp");jive.CommentApp.EditFormView=jive.CommentApp.FormView.extend({init:function(a,b){this._id=b.id;this._postBlock=$j("#jive-comment-edit-block");this._super(a,b)},_initFormWaitingView:function(a){this._formWaitingView=new jive.shared.FormWaitingView($j(this._container).parents(".jive-comment-content"),{i18n:a,containerPadding:0})},_render:function(){var e=this._postBlock.clone().removeAttr("id").show();this._container.append(e);var b=this._container.find(".jive-comment-rte-source").val();var a=this._container.find("[name=commentGuestName]").val();var d=this._container.find("[name=commentGuestEmail]").val();var c=this._container.find("[name=commentGuestUrl]").val();if(a||d||c){this._container.find(".jive-comment-rte-source").val();this._container.find(".jive-comment-post-anonymous [name=name]").val(a);this._container.find(".jive-comment-post-anonymous [name=email]").val(d);this._container.find(".jive-comment-post-anonymous [name=url]").val(c);this._container.find(".jive-comment-post-anonymous").show()}else{this._container.find(".jive-comment-post-anonymous").hide()}$j("#wysiwygtext").val(b);var f=this;var g=$j.extend({$element:$j("#wysiwygtext"),isEditing:true,onReady:function(){f.rteView.focus();if(f.options.rteOptions.onReady){f.options.rteOptions.onReady()}}},this.options.rteOptions);this.rteView=new jive.rte.RTEWrap(g);this._container.find("form").find("[name=post]").click(function(){return f._postHandler()}).end().find("[name=cancel]").click(function(){f.emit("cancel",f._getValues());if(f._destroyImagePickerUrl){$j.ajax({url:f._destroyImagePickerUrl,type:"POST"})}return false})},_getValues:function(){return{body:this.rteView.getHTML(),mobileEditor:this.rteView.isMobileOnly(),name:this._container.find("[name=name]").val(),email:this._container.find("[name=email]").val(),URL:this._container.find("[name=url]").val(),id:this._id}}});
;
jive.namespace("CommentApp");jive.CommentApp.CommentView=function(l,q){jive.observable(this);var n=q.id,i=$j(l),e=q.isThreaded,p=q.i18n,h=this;function f(){i.fadeOut(function(){$j(this).remove()});this.emit("remove",n);return this}function o(r){i.find("[class*=comment-preview]").html(r).fadeIn()}function m(){return i}function c(s,t,u){if(!u){u=i}var r=u.find(".jive-rendered-content").html();jive.SharedViews.RteView.setMiniRTEQuotedMsg(s,p,t,r)}function j(){i.find(".jive-comment-meta:first, #comment-body-"+n+", #comment-action-div-"+n).hide();i.find(".jive-comment-meta:first").after('<p class="jive-js-edit-title jive-comment-meta font-color-meta-light">'+p.cmntEditingTitle+"</p>")}function k(){i.find(".jive-comment-meta:first, #comment-body-"+n+", #comment-action-div-"+n).show();i.find(".jive-js-edit-title").remove()}function g(){return n}function d(){return i.find(".jive-username-link:first").text()}function a(r){var s;if(e){s=i.find("ul.jive-comment:first");if(s.length===0){s=$j("<ul/>",{"class":"jive-comment jive-comment-threaded jive-comment-indent-1"});i.append(s)}s.append(r)}else{i.parent().append(r)}}function b(){var r=i.parents().andSelf().filter("ul.jive-comment").toArray();return r.slice(1).reduce(function(t,s){return t+parseInt($j(s).css("margin-left"),10)},0)}this.remove=f;this.displayPreview=o;this.getDOMElement=m;this.setQuotedMsg=c;this.getCommentID=g;this.username=d;this.showCommentEdit=j;this.hideCommentEdit=k;this.append=a;this.indent=b};
;
jive.namespace("CommentApp");jive.CommentApp.Main=function(o){var g=o.commentMode,e=o.sort||"datedesc",j=o.paginate||false,a=o.pagerType||(j&&jive.Pager.Main),l=o.pageSize||25,n=o.i18n,h,k,m,d;function i(){var q=$j("#"+m),p=new a(q,b,{per_page:l});return p}function f(p){if(j&&p){d.set_parameters(p)}else{if(j){d.update()}else{b(p)}}}function b(p,q){p=p||{};p.sort=p.sort||e;h.getAllAsHTML(p,function(r){k.setContent(r);if($j.isFunction(q)){q(r,"success")}})}function c(p){if(j&&p){d.load_page({comment:p})}else{if(p){f()}}}switch(g){case"inline":m="jive-inlinecomments";break;case"backchannel":m="jive-authordiscussion";break;default:m="jive-comments";break}h=new jive.CommentApp.CommentSource($j.extend({location:m},o));k=new jive.CommentApp.CommentListView("#"+m,o);k.addListener("sortChange",function(p){e=p;f({sort:p})}).addListener("saveComment",function(r,q){var s=new jive.CommentApp.Comment(r),p=this;h.save(s,{success:function(t){if(q){q()}p.closeForm();if(t.moderated){b(null,function(){p.displaySuccess(n.postSuccessText)})}else{window.location=window.location.toString().split("#")[0]+"#comment-"+t.id;c(t.id)}},error:function(u,t){p.displayError(u,t);if(q){q()}}})}).addListener("deleteComment",function(s,r){var q=confirm(n.confirmDeleteComment),t=new jive.CommentApp.Comment({id:r}),p=this;if(q){s.remove();h.destroy(t,function(){f()})}});$j(document).ready(function(){var p;if(j){d=i();p=(window.location.hash.match(/^#([^\/].+)$/)||[])[1];if(p){c(p);return}}f()});this.closeForms=function(){k.closeForm()};this.renderForm=function(p,r,q){k.renderForm(p,r,null,q)};this.addCommentListViewListener=function(p,q){k.addListener(p,q)};this.refresh=function(){f()}};
;
jive.action=(function(){var a=_jive_base_url+"/";return{url:function(b,c){var d="";Object.keys(c).forEach(function(e){d+=e+"="+c[e]+"&"});if(d.length>0){d="?"+d.slice(0,d.length-1)}return a+b+".jspa"+d}}})();
;
if(typeof jive=="undefined"){var jive={}}if(typeof jive.user=="undefined"){jive.user={}}if(typeof jive.user.soy=="undefined"){jive.user.soy={}}jive.user.soy.avatar=function(a,c){var b=c||new soy.StringBuilder();if(!a.user.anonymous){b.append('<a href="');jive.app.url({path:"/people/"+soy.$$escapeHtml(a.user.username)},b);b.append('" class="jiveTT-hover-user" onmouseover="quickuserprofile.getUserProfileTooltip(',soy.$$escapeHtml(a.user.ID),');" onmouseout="quickuserprofile.cancelTooltip();">');if(!a.user.enabled){b.append('<img class="jive-avatar" src="');jive.resource.url({path:"/images/jive-avatar-disabled.png"},b);b.append('" width="',soy.$$escapeHtml(a.size),'" height="',soy.$$escapeHtml(a.size),'" border="0"/>')}else{b.append('<img class="jive-avatar" src="');jive.app.url({path:"/people/"+soy.$$escapeHtml(a.user.username)},b);b.append("/avatar/",soy.$$escapeHtml(a.size),".png?a=",soy.$$escapeHtml(a.user.avatarID),'" border="0" height="',soy.$$escapeHtml(a.size),'" width="',soy.$$escapeHtml(a.size),'" alt="',soy.$$escapeHtml(a.user.displayName),'"/>')}b.append("</a>")}else{b.append('<img class="jive-avatar" src="');jive.app.url({path:"/people/guest/avatar"},b);b.append("/",soy.$$escapeHtml(a.size),'.png" border="0" height="',soy.$$escapeHtml(a.size),'" width="',soy.$$escapeHtml(a.size),'" alt="',soy.$$escapeHtml(a.user.displayName),'" title="',soy.$$escapeHtml(a.user.displayName),'"/>')}if(!c){return b.toString()}};jive.user.soy.displayNameLink=function(a,c){var b=c||new soy.StringBuilder();if(!a.user.anonymous){b.append('<a href="');jive.app.url({path:"/people/"+soy.$$escapeHtml(a.user.username)},b);b.append('" onmouseover="quickuserprofile.getUserProfileTooltip(',soy.$$escapeHtml(a.user.ID),');" onmouseout="quickuserprofile.cancelTooltip();" class="jiveTT-hover-user ',(!a.user.enabled)?"jive-user-disabled":"",'">',soy.$$escapeHtml(a.user.displayName),"</a>")}else{b.append("<span>",soy.$$escapeHtml(a.user.displayName),"</span>")}if(!c){return b.toString()}};
;
if(typeof jive=="undefined"){var jive={}}if(typeof jive.CommentApp=="undefined"){jive.CommentApp={}}if(typeof jive.CommentApp.soy=="undefined"){jive.CommentApp.soy={}}jive.CommentApp.soy.renderReply=function(a,c){var b=c||new soy.StringBuilder();b.append('<li class="addReply jive-js-addReply" style="display:none;',(a.indent)?" margin-left:"+soy.$$escapeHtml(a.indent):"",'">');jive.user.soy.avatar({user:_jive_current_user,size:"32"},b);b.append('<div class="jive-comment-arrow"></div><div class="jive-comment-content jive-create-comment"><p class="jive-comment-meta font-color-meta-light"><strong style="" class="font-color-meta replyTo">');jive.i18n.soy({string:a.i18n.replyToTitle,zero:'<span class="replyToName">'+soy.$$escapeHtml(a.username)+"</span>"},b);b.append('<img src="');jive.resource.url({path:"/images/inline-reply-arrow.png"},b);b.append('"/></strong></p><div ',(a.commentID)?'id="comment-body-'+soy.$$escapeHtml(a.commentID)+'"':"",' class="jive-comment-body"><div class="jive-rendered-content"><p><div ',(a.commentID)?'id="jive-content-post-'+soy.$$escapeHtml(a.commentID)+'"':"",' class="jive-comment-post"></div></p></div></div></div></li>');if(!c){return b.toString()}};
;
if(typeof jive=="undefined"){var jive={}}if(typeof jive.DiscussionApp=="undefined"){jive.DiscussionApp={}}if(typeof jive.DiscussionApp.soy=="undefined"){jive.DiscussionApp.soy={}}jive.DiscussionApp.soy.renderReply=function(a,c){var b=c||new soy.StringBuilder();b.append('<li class="addReply jive-js-addReply" style="display:none"><div msgID="',soy.$$escapeHtml(a.messageID),'" class="jive-thread-reply-indent0 jive-reply-add-inline"><div class="jive-thread-reply-indent-shadow"><div class="jive-thread-reply jive-thread-reply-self clearfix"><div class="jive-thread-reply-inline clearfix"><strong class="font-color-meta">',soy.$$escapeHtml(a.i18n.forumThrdReplyTo),' <span class="replyToName">',soy.$$escapeHtml(a.userName),'</span> <img src="');jive.resource.url({path:"/images/inline-reply-arrow.png"},b);b.append('"></strong><a class="font-color-meta advEditor" href="javascript:void(0);">',soy.$$escapeHtml(a.i18n.advEditor),'</a><p class="jive-discussion-post"></p></div></div></div></div></li>');if(!c){return b.toString()}};jive.DiscussionApp.soy.rteMsgQuote=function(a,c){var b=c||new soy.StringBuilder();b.append('<div class="jive-rendered-content"><blockquote class="jive-quote"><span class="jive-quote-header">');if(a.isAnonymous){b.append(soy.$$escapeHtml(a.i18n.postGuestWroteLabel))}else{jive.i18n.soy({string:a.i18n.postUserWroteLabel,zero:soy.$$escapeHtml(a.userName)},b)}b.append(":</span><br/><br/>",a.msgBody,"</blockquote></div>");if(!c){return b.toString()}};
;
if(typeof jive=="undefined"){var jive={}}if(typeof jive.Shared=="undefined"){jive.Shared={}}if(typeof jive.Shared.soy=="undefined"){jive.Shared.soy={}}jive.Shared.soy.formWaitingOverlay=function(a,c){var b=c||new soy.StringBuilder();b.append('<div class="jive-js-form-disable jive-form-waiting-disable"><div class="',soy.$$escapeHtml(a.bgCssClass),'"></div><span class="jive-js-load-indicator jive-form-waiting">',soy.$$escapeHtml(a.i18n.formSubmitPleaseWait),"</span></div>");if(!c){return b.toString()}};
;

// Provide a default path to dwr.engine
if (dwr == null) var dwr = {};
if (dwr.engine == null) dwr.engine = {};
if (DWREngine == null) var DWREngine = dwr.engine;

if (Draft == null) var Draft = {};
Draft._path = '/community/dwr';
Draft.keepAlive = function(callback) {
  dwr.engine._execute(Draft._path, 'Draft', 'keepAlive', false, callback);
}
Draft.setAuthenticationProvider = function(p0, callback) {
  dwr.engine._execute(Draft._path, 'Draft', 'setAuthenticationProvider', p0, callback);
}
Draft.getDraft = function(p0, p1, p2, callback) {
  dwr.engine._execute(Draft._path, 'Draft', 'getDraft', p0, p1, p2, false, callback);
}
Draft.deleteDraft = function(p0, p1, p2, p3, callback) {
  dwr.engine._execute(Draft._path, 'Draft', 'deleteDraft', p0, p1, p2, p3, false, callback);
}
Draft.saveDraft = function(p0, callback) {
  dwr.engine._execute(Draft._path, 'Draft', 'saveDraft', p0, false, callback);
}

;

// Provide a default path to dwr.engine
if (dwr == null) var dwr = {};
if (dwr.engine == null) dwr.engine = {};
if (DWREngine == null) var DWREngine = dwr.engine;

if (WikiTextConverter == null) var WikiTextConverter = {};
WikiTextConverter._path = '/community/dwr';
WikiTextConverter.getPreferredEditorMode = function(callback) {
  dwr.engine._execute(WikiTextConverter._path, 'WikiTextConverter', 'getPreferredEditorMode', false, callback);
}
WikiTextConverter.cleanUpHtml = function(p0, p1, callback) {
  dwr.engine._execute(WikiTextConverter._path, 'WikiTextConverter', 'cleanUpHtml', p0, p1, false, callback);
}
WikiTextConverter.convertFromWiki = function(p0, p1, callback) {
  dwr.engine._execute(WikiTextConverter._path, 'WikiTextConverter', 'convertFromWiki', p0, p1, false, callback);
}
WikiTextConverter.convertToWiki = function(p0, p1, callback) {
  dwr.engine._execute(WikiTextConverter._path, 'WikiTextConverter', 'convertToWiki', p0, p1, false, callback);
}
WikiTextConverter.convertToPreviewFromXhtml = function(p0, p1, callback) {
  dwr.engine._execute(WikiTextConverter._path, 'WikiTextConverter', 'convertToPreviewFromXhtml', p0, p1, false, callback);
}
WikiTextConverter.convertToPreviewFromWiki = function(p0, p1, callback) {
  dwr.engine._execute(WikiTextConverter._path, 'WikiTextConverter', 'convertToPreviewFromWiki', p0, p1, false, callback);
}
WikiTextConverter.setPreferredEditorMode = function(p0, callback) {
  dwr.engine._execute(WikiTextConverter._path, 'WikiTextConverter', 'setPreferredEditorMode', p0, false, false, callback);
}

;

// Provide a default path to dwr.engine
if (dwr == null) var dwr = {};
if (dwr.engine == null) dwr.engine = {};
if (DWREngine == null) var DWREngine = dwr.engine;

if (Watches == null) var Watches = {};
Watches._path = '/community/dwr';
Watches.isObjectWatched = function(p0, p1, callback) {
  dwr.engine._execute(Watches._path, 'Watches', 'isObjectWatched', p0, p1, callback);
}
Watches.removeObjectWatch = function(p0, p1, callback) {
  dwr.engine._execute(Watches._path, 'Watches', 'removeObjectWatch', p0, p1, callback);
}
Watches.watchObject = function(p0, p1, callback) {
  dwr.engine._execute(Watches._path, 'Watches', 'watchObject', p0, p1, callback);
}
Watches.isThreadWatched = function(p0, callback) {
  dwr.engine._execute(Watches._path, 'Watches', 'isThreadWatched', p0, callback);
}
Watches.isDocumentWatched = function(p0, callback) {
  dwr.engine._execute(Watches._path, 'Watches', 'isDocumentWatched', p0, callback);
}
Watches.isBlogWatched = function(p0, callback) {
  dwr.engine._execute(Watches._path, 'Watches', 'isBlogWatched', p0, callback);
}
Watches.isBlogPostWatched = function(p0, callback) {
  dwr.engine._execute(Watches._path, 'Watches', 'isBlogPostWatched', p0, callback);
}
Watches.isUserWatched = function(p0, callback) {
  dwr.engine._execute(Watches._path, 'Watches', 'isUserWatched', p0, callback);
}
Watches.isCommunityWatched = function(p0, callback) {
  dwr.engine._execute(Watches._path, 'Watches', 'isCommunityWatched', p0, callback);
}
Watches.isProjectWatched = function(p0, callback) {
  dwr.engine._execute(Watches._path, 'Watches', 'isProjectWatched', p0, callback);
}
Watches.isTaskWatched = function(p0, callback) {
  dwr.engine._execute(Watches._path, 'Watches', 'isTaskWatched', p0, callback);
}
Watches.isSocialGroupWatched = function(p0, callback) {
  dwr.engine._execute(Watches._path, 'Watches', 'isSocialGroupWatched', p0, callback);
}
Watches.watchThread = function(p0, callback) {
  dwr.engine._execute(Watches._path, 'Watches', 'watchThread', p0, callback);
}
Watches.watchDocument = function(p0, callback) {
  dwr.engine._execute(Watches._path, 'Watches', 'watchDocument', p0, callback);
}
Watches.watchBlog = function(p0, callback) {
  dwr.engine._execute(Watches._path, 'Watches', 'watchBlog', p0, callback);
}
Watches.watchBlogPost = function(p0, callback) {
  dwr.engine._execute(Watches._path, 'Watches', 'watchBlogPost', p0, callback);
}
Watches.watchUser = function(p0, callback) {
  dwr.engine._execute(Watches._path, 'Watches', 'watchUser', p0, callback);
}
Watches.watchCommunity = function(p0, callback) {
  dwr.engine._execute(Watches._path, 'Watches', 'watchCommunity', p0, callback);
}
Watches.watchProject = function(p0, callback) {
  dwr.engine._execute(Watches._path, 'Watches', 'watchProject', p0, callback);
}
Watches.watchTask = function(p0, callback) {
  dwr.engine._execute(Watches._path, 'Watches', 'watchTask', p0, callback);
}
Watches.watchSocialGroup = function(p0, callback) {
  dwr.engine._execute(Watches._path, 'Watches', 'watchSocialGroup', p0, callback);
}
Watches.watchVideo = function(p0, callback) {
  dwr.engine._execute(Watches._path, 'Watches', 'watchVideo', p0, callback);
}
Watches.watchWallEntry = function(p0, callback) {
  dwr.engine._execute(Watches._path, 'Watches', 'watchWallEntry', p0, callback);
}
Watches.watchPoll = function(p0, callback) {
  dwr.engine._execute(Watches._path, 'Watches', 'watchPoll', p0, callback);
}
Watches.removeWallEntryWatch = function(p0, callback) {
  dwr.engine._execute(Watches._path, 'Watches', 'removeWallEntryWatch', p0, callback);
}
Watches.removeThreadWatch = function(p0, callback) {
  dwr.engine._execute(Watches._path, 'Watches', 'removeThreadWatch', p0, callback);
}
Watches.removeDocumentWatch = function(p0, callback) {
  dwr.engine._execute(Watches._path, 'Watches', 'removeDocumentWatch', p0, callback);
}
Watches.removeBlogWatch = function(p0, callback) {
  dwr.engine._execute(Watches._path, 'Watches', 'removeBlogWatch', p0, callback);
}
Watches.removeBlogPostWatch = function(p0, callback) {
  dwr.engine._execute(Watches._path, 'Watches', 'removeBlogPostWatch', p0, callback);
}
Watches.removeUserWatch = function(p0, callback) {
  dwr.engine._execute(Watches._path, 'Watches', 'removeUserWatch', p0, callback);
}
Watches.removeCommunityWatch = function(p0, callback) {
  dwr.engine._execute(Watches._path, 'Watches', 'removeCommunityWatch', p0, callback);
}
Watches.removeProjectWatch = function(p0, callback) {
  dwr.engine._execute(Watches._path, 'Watches', 'removeProjectWatch', p0, callback);
}
Watches.removeTaskWatch = function(p0, callback) {
  dwr.engine._execute(Watches._path, 'Watches', 'removeTaskWatch', p0, callback);
}
Watches.removeSocialGroupWatch = function(p0, callback) {
  dwr.engine._execute(Watches._path, 'Watches', 'removeSocialGroupWatch', p0, callback);
}
Watches.removeVideoWatch = function(p0, callback) {
  dwr.engine._execute(Watches._path, 'Watches', 'removeVideoWatch', p0, callback);
}
Watches.removePollWatch = function(p0, callback) {
  dwr.engine._execute(Watches._path, 'Watches', 'removePollWatch', p0, callback);
}

;
jive.namespace("blog");jive.blog.Watch=function(c,a,e){function b(h,f,g){var i=c;if(h=="blogPost"&&a){i=a}Watches[f](i,{callback:function(){$j("#"+h+"-link-startWatch").hide();$j("#"+h+"-link-stopWatch").show();Jive.AlertMessage("blog.watch.notify",{beforeStart:function(){$j('[id="blog.watch.notify"]').html($j("<div/>").append($j("<span/>").addClass("jive-icon-med jive-icon-info")).append(document.createTextNode(g)))},afterFinish:function(){$j('[id="blog.watch.notify"]').html("")}})},errorHandler:function(k,j){alert(e.watchError)}});return false}function d(h,f,g){var i=c;if(h=="blogPost"&&a){i=a}Watches[f](i,{callback:function(){$j("#"+h+"-link-startWatch").show();$j("#"+h+"-link-stopWatch").hide();Jive.AlertMessage("blog.watch.notify",{beforeStart:function(){$j('[id="blog.watch.notify"]').html($j("<div/>").append($j("<span/>").addClass("jive-icon-med jive-icon-info")).append(document.createTextNode(g)))},afterFinish:function(){$j('[id="blog.watch.notify"]').html("")}})},errorHandler:function(k,j){alert(e.watchError)}});return false}$j(document).ready(function(){$j("#blog-link-startWatch").click(b.partial("blog","watchBlog",e.startBlogWatch));$j("#blog-link-stopWatch").click(d.partial("blog","removeBlogWatch",e.stopBlogWatch));$j("#blogPost-link-startWatch").click(b.partial("blogPost","watchBlogPost",e.startPostWatch));$j("#blogPost-link-stopWatch").click(d.partial("blogPost","removeBlogPostWatch",e.stopPostWatch))})};
;
jive.namespace("MoreLikeThisApp");jive.MoreLikeThisApp.MoreLikeThisSource=function(){var c=jive.rest.url("/morelikethis");function b(d){if(typeof d=="function"){d={success:d}}return d}function a(d,h,g,f){f=b(f);var e=c+"/"+d+"/"+h+"/type/"+d+"?numResults="+g;$j.ajax({type:"GET",url:e,dataType:"json",success:function(i){if(typeof f.success=="function"){f.success.call(i,i.morelikethisresultobject)}},error:function(i){if(typeof f.error=="function"){f.error.call(i)}}});return this}this.getMoreLike=a};
;
jive.namespace("MoreLikeThisApp");jive.MoreLikeThisApp.MoreLikeThisView=function(C,F){var D=F.noContentMessage,E=F.errorMessage,B="#"+C;function G(I){var H="";if(I.length>0){I.forEach(function(J){H+='<li class="jive-content-title"><a href="'+_jive_base_url+J.objectURL+'"><span class="'+J.objectClass+'"></span>'+J.subject+"</a></li>"})}else{H='<li class="jive-content-title"><span>'+D+"</span></li>"}$j(B).empty().append(H)}function A(){$j(B).empty().append('<li class="jive-content-title"><span>'+E+"</span></li>")}this.setContent=G;this.displayError=A}
;
jive.namespace("MoreLikeThisApp");jive.MoreLikeThisApp.Main=function(d){var b=d.objectType,h=d.objectID,a=d.containerID,e=d.numResults||5,g,f;function c(){f.getMoreLike(b,h,e,{success:function(i){g.setContent(i)},error:function(){g.displayError()}})}g=new jive.MoreLikeThisApp.MoreLikeThisView(a,{noContentMessage:d.noContentMessage,errorMessage:d.errorMessage});f=new jive.MoreLikeThisApp.MoreLikeThisSource();$j(document).ready(function(){c()})};
;

// Provide a default path to dwr.engine
if (dwr == null) var dwr = {};
if (dwr.engine == null) dwr.engine = {};
if (DWREngine == null) var DWREngine = dwr.engine;

if (RelatedProducts == null) var RelatedProducts = {};
RelatedProducts._path = '/community/dwr';
RelatedProducts.getRelatedProductsResults = function(p0, p1, p2, callback) {
  dwr.engine._execute(RelatedProducts._path, 'RelatedProducts', 'getRelatedProductsResults', p0, p1, p2, callback);
}

;
function bookmarkMgr(){var a=new jive.ext.y.HashTable();this.addUser=function(b){a.put(b.userId,b)};this.getUser=function(b){return a.get(b)}}var bookmarkInfo=new bookmarkMgr();$j(function(){var d=$j("#jive-bookmark-list");var g=$j("#view-favorite-activity-form");$j("#jive-view-picker").change(function(){var i=$j("#view-favorite-activity-form").find(":hidden[name=page]");i.val(1);f($j(".view-previous"),true);var h=$j(this).val();$j("#jive-bookmark-list").html("");if(h=="everyone"||h=="friends"){$j("#jive-bookmark-list").removeClass("jive-notes-list").addClass("jive-avatar-list")}else{$j("#jive-bookmark-list").removeClass("jive-avatar-list").addClass("jive-notes-list")}d.data("knownPages",1);b(1,false,true)});$j(".jive-more").click(function(){var h=$j("#view-favorite-activity-form").find(":hidden[name=page]");h.val(parseInt(h.val())+1);b(h.val(),true);return false});$j(".jive-less").click(function(){var h=$j("#view-favorite-activity-form").find(":hidden[name=page]");h.val(parseInt(h.val())-1);b(h.val(),true);return false});function b(j,i,h){if(d.find("ul.page-"+j).size()<=0){g.ajaxSubmit({cache:false,success:function(k){if(h){d.html(k)}else{d.append(k)}c(j,i)}})}else{c(j,i)}}function c(j,i){var k=parseInt(g.find(":hidden[name=page]").val());a(i);var h=$j("ul.page-"+j).outerHeight(true);if($j.browser.msie){h+=6}if(i){d.animate({height:h},100);d.scrollTo("ul.page-"+j+"",400,{margin:true,onAfter:function(){}})}else{d.scrollTo("ul.page-"+j+"",{margin:true});d.height(h)}}function a(h){var i=parseInt(g.find(":hidden[name=page]").val());var j=d.find("ul.page-"+i).find("li.page-"+(i+1));if(d.find("ul.page-"+(i-1)).size()>0){e(d.siblings(".view-previous"),h)}else{f(d.siblings(".view-previous"),h)}if((d.find("ul.page-"+(i+1)).size()>0)||(i<parseInt(d.data("knownPages")))){e(d.siblings(".view-next"),h)}else{if(j.size()>0){e(d.siblings(".view-next"),h);d.data("knownPages",d.data("knownPages")+1);j.remove()}else{f(d.siblings(".view-next"),h)}}}function e(h,i){if(i){h.slideDown(500)}else{h.show()}}function f(h,i){if(i){h.slideUp(500)}else{h.hide()}}});
;
jQuery.extend(jQuery.easing,{easeInQuad:function(e,f,a,h,g){return h*(f/=g)*f+a},easeOutQuad:function(e,f,a,h,g){return -h*(f/=g)*(f-2)+a},easeInOutQuad:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f+a}return -h/2*((--f)*(f-2)-1)+a},easeInCubic:function(e,f,a,h,g){return h*(f/=g)*f*f+a},easeOutCubic:function(e,f,a,h,g){return h*((f=f/g-1)*f*f+1)+a},easeInOutCubic:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f+a}return h/2*((f-=2)*f*f+2)+a},easeInQuart:function(e,f,a,h,g){return h*(f/=g)*f*f*f+a},easeOutQuart:function(e,f,a,h,g){return -h*((f=f/g-1)*f*f*f-1)+a},easeInOutQuart:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f+a}return -h/2*((f-=2)*f*f*f-2)+a},easeInQuint:function(e,f,a,h,g){return h*(f/=g)*f*f*f*f+a},easeOutQuint:function(e,f,a,h,g){return h*((f=f/g-1)*f*f*f*f+1)+a},easeInOutQuint:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f*f+a}return h/2*((f-=2)*f*f*f*f+2)+a},easeInSine:function(e,f,a,h,g){return -h*Math.cos(f/g*(Math.PI/2))+h+a},easeOutSine:function(e,f,a,h,g){return h*Math.sin(f/g*(Math.PI/2))+a},easeInOutSine:function(e,f,a,h,g){return -h/2*(Math.cos(Math.PI*f/g)-1)+a},easeInExpo:function(e,f,a,h,g){return(f==0)?a:h*Math.pow(2,10*(f/g-1))+a},easeOutExpo:function(e,f,a,h,g){return(f==g)?a+h:h*(-Math.pow(2,-10*f/g)+1)+a},easeInOutExpo:function(e,f,a,h,g){if(f==0){return a}if(f==g){return a+h}if((f/=g/2)<1){return h/2*Math.pow(2,10*(f-1))+a}return h/2*(-Math.pow(2,-10*--f)+2)+a},easeInCirc:function(e,f,a,h,g){return -h*(Math.sqrt(1-(f/=g)*f)-1)+a},easeOutCirc:function(e,f,a,h,g){return h*Math.sqrt(1-(f=f/g-1)*f)+a},easeInOutCirc:function(e,f,a,h,g){if((f/=g/2)<1){return -h/2*(Math.sqrt(1-f*f)-1)+a}return h/2*(Math.sqrt(1-(f-=2)*f)+1)+a},easeInElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k)==1){return e+l}if(!j){j=k*0.3}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}return -(g*Math.pow(2,10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j))+e},easeOutElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k)==1){return e+l}if(!j){j=k*0.3}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}return g*Math.pow(2,-10*h)*Math.sin((h*k-i)*(2*Math.PI)/j)+l+e},easeInOutElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k/2)==2){return e+l}if(!j){j=k*(0.3*1.5)}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}if(h<1){return -0.5*(g*Math.pow(2,10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j))+e}return g*Math.pow(2,-10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j)*0.5+l+e},easeInBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}return i*(f/=h)*f*((g+1)*f-g)+a},easeOutBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}return i*((f=f/h-1)*f*((g+1)*f+g)+1)+a},easeInOutBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}if((f/=h/2)<1){return i/2*(f*f*(((g*=(1.525))+1)*f-g))+a}return i/2*((f-=2)*f*(((g*=(1.525))+1)*f+g)+2)+a},easeInBounce:function(e,f,a,h,g){return h-jQuery.easing.easeOutBounce(e,g-f,0,h,g)+a},easeOutBounce:function(e,f,a,h,g){if((f/=g)<(1/2.75)){return h*(7.5625*f*f)+a}else{if(f<(2/2.75)){return h*(7.5625*(f-=(1.5/2.75))*f+0.75)+a}else{if(f<(2.5/2.75)){return h*(7.5625*(f-=(2.25/2.75))*f+0.9375)+a}else{return h*(7.5625*(f-=(2.625/2.75))*f+0.984375)+a}}}},easeInOutBounce:function(e,f,a,h,g){if(f<g/2){return jQuery.easing.easeInBounce(e,f*2,0,h,g)*0.5+a}return jQuery.easing.easeOutBounce(e,f*2-g,0,h,g)*0.5+h*0.5+a}});
;
(function(d){var c={};d.fn.tooltip=function(i,g,f){var h;if(!c[i]){h=e(i)}else{h=c[i]}d(this).addClass(h+"-hover-"+i);d(this).mouseover(function(){d("#jive-note-"+i+"-body").html('<span class="jive-tooltip2-loading"></span>');d("#jive-note-"+i+"-body").load(g)})};function e(k){var i=a(4);var f=i+"-note-"+k;c[k]=i;new SuperNote(i,{showDelay:700,hideDelay:100,cssProp:"visibility",cssVis:"visible",cssHid:"hidden"});d("body").append('<div id="'+f+'"></div>');var j=d("#"+f);j.addClass("jive-tooltip2").addClass("notedefault").addClass("snp-mouseoffset");j.append('<div class="jive-tooltip2-mid j-mini-modal"></div>');var h=j.children(".jive-tooltip2-mid");var g="jive-note-"+k+"-body";h.append('<div id="'+g+'" class="jive-tooltip2-mid-padding j-modal-content note-bookmark-body clearfix">AWESOME</div>');return i}function b(f,h,g){f=Math.floor(f);h=Math.floor(h);return(Math.floor(f+((h-f+1)*Math.random((g!=null)?g:0))))}function a(f){var h="";var i=0;var g="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";for(var j=0;j<f;j++){i=b(0,(g.length-1),j);h+=g.charAt(i)}return h}})(jQuery);
;
$j(function(){var c;$j(window).keydown(function(d){if(d.keyCode=="16"){c=true}});$j(window).keyup(function(d){if(d.keyCode=="16"){c=false}});$j(".bookmark-content").live("click",function(){if(c){}else{if($j("#jive-bookmark-modal").length<=0){b($j(this))}else{a()}}return false});$j(".unbookmark-content").live("click",function(){var d=function(){var e=confirm($j("#remove-bookmark-confirm").text());if(e){$j("#remove-bookmark-popup-form").ajaxSubmit({cache:false,success:function(){location.reload()}})}};if($j("#remove-bookmark-confirm").length<=0){b($j(this),d)}else{d()}return false});function b(h,g){var f=h.find("[name='objectType']").val();var d=h.find("[name='objectID']").val();var e=(f!=""&&d!="")?"contentObjectType="+f+"&object="+d:"";$j.ajax({url:createModalAction,data:e,success:function(i){$j("body").append(i);if(!g){a($j("#jive-bookmark-modal"))}else{g()}}})}function a(d){if(d){var e=function(){d.remove()}}$j("#jive-bookmark-modal").lightbox_me({closeSelector:".jive-close",onClose:e});$j("html,body").animate({scrollTop:0},500)}$j("#jive-bookmark-form").livequery(function(){$j(this).ajaxForm({cache:false,success:function(){location.reload()}})})});
;
